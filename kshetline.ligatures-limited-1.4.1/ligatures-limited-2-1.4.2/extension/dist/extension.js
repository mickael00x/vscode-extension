module.exports=(()=>{var e={90:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DateTimeOptions:()=>s,asLines:()=>D,beep:()=>xe,blendColors:()=>he,clone:()=>k,colorFrom24BitInt:()=>fe,colorFromByteArray:()=>pe,colorFromRGB:()=>de,compareCaseInsensitive:()=>O,compareCaseSecondary:()=>N,compareStrings:()=>F,doesCharacterGlyphExist:()=>Le,drawOutlinedText:()=>ge,eventToKey:()=>ke,extendDelimited:()=>j,fillEllipse:()=>me,flatten:()=>E,flattenDeep:()=>P,forEach:()=>g,formatDateTime:()=>c,getCssValue:()=>Ae,getFont:()=>Ee,getFontMetrics:()=>Re,getPixel:()=>ye,getTextWidth:()=>Te,htmlEscape:()=>Oe,htmlUnescape:()=>Ne,isAllUppercase:()=>V,isAndroid:()=>Fe,isArray:()=>m,isArrayLike:()=>y,isBoolean:()=>_,isChrome:()=>je,isChromium:()=>Ue,isEdge:()=>Ge,isEffectivelyFullScreen:()=>Be,isEqual:()=>A,isFirefox:()=>$e,isFullScreen:()=>We,isFunction:()=>b,isIE:()=>ze,isIOS:()=>qe,isMacOS:()=>He,isNonFunctionObject:()=>v,isNumber:()=>w,isObject:()=>C,isOpera:()=>Ve,isRaspbian:()=>Xe,isSafari:()=>Ze,isSamsung:()=>Ke,isString:()=>S,isSymbol:()=>x,isWindows:()=>Ye,last:()=>d,makePlainASCII:()=>W,makePlainASCII_UC:()=>z,makePlainASCII_lc:()=>B,padLeft:()=>J,padRight:()=>Q,parseColor:()=>_e,processMillis:()=>a,regexEscape:()=>ae,replace:()=>ee,replaceAlpha:()=>be,restrictPixelWidth:()=>Je,setFullScreen:()=>Qe,setFullScreenAsync:()=>et,setPixel:()=>ve,sortObjectEntries:()=>L,stripLatinDiacriticals:()=>te,stripLatinDiacriticals_UC:()=>re,stripLatinDiacriticals_lc:()=>ne,strokeCircle:()=>we,strokeEllipse:()=>Ce,strokeLine:()=>Se,toBoolean:()=>l,toDefaultLocaleFixed:()=>u,toInt:()=>f,toMixedCase:()=>X,toNumber:()=>p,toTitleCase:()=>Y,toggleFullScreen:()=>tt,toggleFullScreenAsync:()=>nt,urlEncodeParams:()=>rt,zeroPad:()=>ie}),Math.abs,Math.acos,Math.acosh,Math.asin,Math.asinh,Math.atan,Math.atanh,Math.atan2,Math.ceil,Math.cos,Math.cosh,Math.exp,Math.floor,Math.PI,Math.log,Math.log2,Math.log10;const r=Math.max,i=Math.min;Math.PI,Math.pow;const o=Math.round;function a(){if("undefined"!=typeof performance)return performance.now();if("undefined"!=typeof process){if(process.hrtime.bigint)return Number(process.hrtime.bigint())/1e6;{const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}}return Date.now()}var s;function c(e,t){let n,r=!1,i=!1,o=!1,a=!1,c=!1,u=!1,l=!1,h=!1;e?Array.isArray(e)?(n=new Date,t=e):n="number"==typeof e||"string"==typeof e?new Date(e):e:n=new Date,t&&t.forEach((e=>{switch(e){case s.DATE_ONLY:r=!0;break;case s.NO_SECONDS:o=!0,h=!1;break;case s.NO_ZONE:a=!0;break;case s.TIME_ONLY:i=!0;break;case s.UTC:c=!0;break;case s.USE_T:u=!0;break;case s.USE_Z:l=!0,c=!0;break;case s.WITH_MILLIS:h=!0,o=!1}}));const f=`${ie(c?n.getUTCFullYear():n.getFullYear(),4)}-${ie(c?n.getUTCMonth()+1:n.getMonth()+1,2)}-${ie(c?n.getUTCDate():n.getDate(),2)}`;if(r)return f;const p=ie(c?n.getUTCHours():n.getHours(),2),d=u?"T":" ",g=ie(c?n.getMinutes():n.getUTCMinutes(),2),m=":"+ie(c?n.getUTCSeconds():n.getSeconds(),2),y="."+ie(c?n.getUTCMilliseconds():n.getMilliseconds(),3),_=n.getTimezoneOffset(),b=l?"Z":" "+(_>0?"-":"+")+ie(Math.floor(Math.abs(_)/60),2)+ie(Math.floor(Math.abs(_)%60),2);let v=`${p}:${g}`;return o||(v+=m),h&&(v+=y),a||(v+=b),i?v:f+d+v}function u(e,t,n){const r={};return void 0!==t&&(r.minimumFractionDigits=t),void 0!==n&&(r.maximumFractionDigits=n),e.toLocaleString(void 0,r)}function l(e,t=!1,n=!1){if("boolean"==typeof e)return e;if(null==e)return t;if("number"==typeof e)return isNaN(e)?t:0!==e;if("string"!=typeof e)return!!e;if(n&&""===e)return!0;if(/^(true|t|yes|y)$/i.test(e)||t&&""===e)return!0;if(/^(false|f|no|n)$/i.test(e))return!1;const r=Number(e);return isNaN(r)?t:0!==r}Math.sign,Math.sin,Math.sinh,Math.sqrt,Math.tan,Math.tanh,Math.PI,function(e){e[e.DATE_ONLY=0]="DATE_ONLY",e[e.NO_SECONDS=1]="NO_SECONDS",e[e.NO_ZONE=2]="NO_ZONE",e[e.TIME_ONLY=3]="TIME_ONLY",e[e.UTC=4]="UTC",e[e.USE_T=5]="USE_T",e[e.USE_Z=6]="USE_Z",e[e.WITH_MILLIS=7]="WITH_MILLIS"}(s||(s={}));const h=[];for(let e=2;e<=36;++e)h[e]=e<=10?new RegExp("^[-+]?[0-"+(e-1)+"]+$"):new RegExp("^[-+]?[0-9A-"+String.fromCharCode(54+e)+"]+$","i");function f(e,t=0,n=10){if("number"==typeof e)return Math.floor(e);if("string"==typeof e){const r=h[n];if(!r||!r.test(e))return t;const i=parseInt(e,n);return isNaN(i)||!isFinite(i)?t:i}if("bigint"==typeof e){const n=Number(e);return isNaN(n)||!isFinite(n)?t:n}return t}function p(e,t=0){if("number"==typeof e)return e;if("string"==typeof e){const n=parseFloat(e);return isNaN(n)||!isFinite(n)?t:n}if("bigint"==typeof e){const n=Number(e);return isNaN(n)||!isFinite(n)?t:n}return t}function d(e){return Array.isArray(e)&&e.length>0?e[e.length-1]:void 0}function g(e,t){Object.keys(e).forEach((n=>t(n,e[n])))}function m(e){return Array.isArray(e)}function y(e){return Array.isArray(e)||C(e)&&w(e.length)&&e.length>=0&&e.length<=Number.MAX_SAFE_INTEGER&&e.length===Math.floor(e.length)}function _(e){return"boolean"==typeof e}function b(e){return"function"==typeof e}function v(e){return e&&"object"==typeof e}function w(e){return"number"==typeof e}function C(e){return e&&("function"==typeof e||"object"==typeof e)}function S(e){return"string"==typeof e}function x(e){return"symbol"==typeof e}function k(e){if(b(e)||!C(e))return e;if(m(e)){const t=[];t.length=e.length;for(let n=0;n<e.length;++n)e.hasOwnProperty(n)&&(t[n]=k(e[n]));return t}const t={},n=Object.keys(e);for(const r of n)t[r]=k(e[r]);return t}function A(e,t,n=!1){if(e===t||Object.is(e,t))return!0;if(typeof e!=typeof t||m(e)!==m(t))return!1;if(n&&(!e.constructor!=!t.constructor||e.constructor!==t.constructor))return!1;if(m(e)){for(let r=0;r<e.length;++r)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!A(e[r],t[r],n))return!1}else if(t.hasOwnProperty(r))return!1}else{if(!C(e))return!1;{const r=Object.keys(e),i=new Set(Object.keys(t));for(const o of r)if(i.delete(o),!t.hasOwnProperty(o)||!A(e[o],t[o],n))return!1;if(i.size>0)return!1}}return!0}function M(e,t,n){for(const r of t)0!==n&&m(r)?M(e,r,n-1):e.push(r);return e}function E(e){return M([],e,1)}function P(e){return M([],e,Number.MAX_SAFE_INTEGER)}const R=(e,t)=>F(e[0].toString(),t[0].toString());function L(e,t,n=!1){const r=b(t)?t:void 0;let i={};const o=Object.entries(e);return n=_(t)?t:n,o.sort(null!=r?r:R),n&&(Object.keys(e).forEach((t=>delete e[t])),i=e),o.forEach((e=>i[e[0]]=e[1])),i}let T,I;try{const e=String.fromCharCode(117);"m&m".split(new RegExp("(?<!4)[^\\p{L}]+",e)),T=new RegExp("^\\p{Lu}+$",e),I=new RegExp("(?:['’ʼ]|(?<=[-\\s,.:;\"]|^))[\\p{L}'’ʼ\\u0300-\\u036F]+\\b['’ʼ]?","g"+e)}catch(e){T=/^[A-ZÀ-ÖØ-Þ]+$/,I=/[A-Za-zÀ-ÖØ-ÿ'’ʼ\u0300-\u036F]+\b['’ʼ]?/g}function D(e,t=!1){if(e){const n=e.split(/\r\n|\r|\n/);if(t)for(;""===d(n);)n.pop();return n}return[]}function O(e,t){return(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0}function N(e,t){const n=e.toLowerCase(),r=t.toLowerCase(),i=n<r?-1:n>r?1:0;return 0!==i?i:e<t?-1:e>t?1:0}function F(e,t){return e<t?-1:e>t?1:0}function j(e,t,n=", "){return e?e+n+t:t}const U="ÀÁÂÃÄÅÇÈÉÊËÌÍÎÏÑÒÓÔÕÖØÙÚÛÜÝàáâãäåçèéêëìíîïñòóôõöøùúûüýÿ­´·•‐‑‒–‘’‚‛“”‟“․‧′″‹›⁄",G="AAAAAACEEEEIIIINOOOOOOUUUUYaaaaaaceeeeiiiinoooooouuuuyy-'**----''''\"\"\"\".-'\"<>/",$="AaAaAaCcCcCcCcDdDdEeEeEeEeEeGgGgGgGgHhHhIiIiIiIiIi--JjKkkLlLlLlLlLlNnNnNnn--OoOoOo--RrRrRrSsSsSsSsTtTtTtUuUuUuUuUuUuWwYyYZzZzZzs";function W(e,t=!1){if(!e)return e;let n=!1;for(let r=0;r<e.length&&!n;++r){const i=e.charCodeAt(r),o=e.charAt(r);(i<32||i>126||t&&('"'===o||"["===o||"]"===o||"*"===o||"/"===o||":"===o||";"===o||"<"===o||">"===o||"?"===o||"\\"===o||"|"===o||0===r&&"."===o))&&(n=!0)}if(!n)return e;const r=[],i=e===e.toUpperCase();for(let n=0;n<e.length;++n){let o,a,s=e.charAt(n);t&&('"'===s?s="'":"["===s?s="(":"]"===s?s=")":"*"===s?s="-":("/"===s||":"===s||";"===s||"<"===s||">"===s||"?"===s||"\\"===s||"|"===s||0===n&&"."===s)&&(s="_"));const c=s.charCodeAt(0);32<=c&&c<=126||(198===c?a="Ae":208===c?a="Dh":222===c?a="Th":223===c?a="ss":230===c?a="ae":240===c?a="dh":254===c?a="th":169!==c||t?171!==c||t?174!==c||t?177!==c||t?187!==c||t?306===c?a="Ij":307===c?a="ij":330===c?a="Ng":331===c?a="ng":338===c?a="Oe":339===c?a="oe":256<=c&&c<=383?s=$.charAt(c-256):(8212!==c&&8213!==c||t)&&(8212!==c&&8213!==c||t)?8230!==c||t?(o=U.indexOf(s))>=0?s=G.charAt(o):768<=c&&c<=879?a="":s="_":a="...":a="--":a=">>":a="+/-":a="(R)":a="<<":a="(c)"),void 0===a?r.push(s):(i&&(a=a.toUpperCase()),r.push(a))}return r.join("")}function B(e){return e?W(e).toLowerCase():e}function z(e){return e?W(e).toUpperCase():e}function q(e){return e.length>1&&/^['’ʼ]/.test(e)?e.charAt(0)+e.charAt(1).toUpperCase()+e.substr(2).toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}function H(e){return e.toLowerCase().replace(/['’ʼ]/g,"'")}function V(e){return e&&T.test(e)}function X(e){return e.replace(I,(e=>q(e)))}const Z=new Set(["a","an","and","as","at","but","by","by","de","for","for","from","in","into","near","nor","of","on","onto","or","the","to","with"]),K=new Map;function Y(e,t){t=null!=t?t:{};let n=Z,r=K;const i=/^\s*/.exec(e)[0].length,o=e.length-/\s*$/.exec(e)[0].length;return t.shortSmall&&(n=new Set(n),t.shortSmall.forEach((e=>{e.startsWith("-")?n.delete(e.substr(1)):n.add(e)}))),t.special&&(r=new Map(r),t.special.forEach((e=>{const t=H(e);e.startsWith("-")?r.delete(t.substr(1)):r.set(t,e)}))),e.replace(I,((e,a)=>{if(t.keepAllCaps&&V(e))return e;const s=H(e);return r.has(s)?r.get(s):(e=q(e),!(a===i||a===o-e.length)&&n.has(s)&&(e=e.toLowerCase()),e)}))}function J(e,t,n=" "){let r="";"number"==typeof e&&e<0&&"0"===n&&(r="-",e=-e,--t);let i=String(e);for(;i.length<t;)i=n+i;return r+i}function Q(e,t,n){for(n||(n=" ");e.length<t;)e+=n;return e}function ee(e,t,n,r=!1){return t=t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),e.replace(new RegExp(t,"g"+(r?"i":"")),n)}function te(e){if(!e)return e;let t=!1;for(let n=0;n<e.length&&!t;++n)e.charCodeAt(n)>=192&&(t=!0);if(!t)return e;const n=[];for(let t=0;t<e.length;++t){const r=e.charCodeAt(t),i=e.charAt(t);let o,a;if(r<192);else if(256<=r&&r<=383)o=$.charAt(r-256),"-"===o&&(o=void 0);else if((a=U.indexOf(i))>=0)o=G.charAt(a),/[a-z]/i.test(o)||(o=void 0);else if(768<=r&&r<=879)continue;o?n.push(o):n.push(i)}return n.join("")}function ne(e){return e?te(e).toLowerCase():e}function re(e){return e?te(e).toUpperCase():e}function ie(e,t){const n=e.toString();return"0".repeat(Math.max(0,t-n.length))+n}["eBay","FedEx","iCloud","iMac","iOS","iPad","iPhone","MacBook","macOS","PepsiCo","watchOS"].forEach((e=>K.set(H(e),e)));const oe=/[-\[\]/{}()*+?.\\^$|]/g;function ae(e){return e.replace(oe,"\\$&")}const se=/[a-z]+/i,ce=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([0-9.]+)\s*\)/,ue=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/;let le;function he(e,t,n=.5){const r=_e(e),i=_e(t),o=r.r,a=r.g,s=r.b,c=r.alpha,u=1-n;return de(o*n+i.r*u,a*n+i.g*u,s*n+i.b*u,c*n+i.alpha*u)}function fe(e,t=1){return de((16711680&e)>>16,(65280&e)>>8,255&e,t)}function pe(e,t){return de(e[t],e[t+1],e[t+2],e[t+4]/255)}function de(e,t,n,a=1){e=i(r(o(e),0),255),t=i(r(o(t),0),255),n=i(r(o(n),0),255);const s=i(r(a,0),1).toFixed(4).replace(/([01]).0000/,"$1").replace(/([^0])0+$/,"$1");return"1"===s?("#"+J(e.toString(16),2,"0")+J(t.toString(16),2,"0")+J(n.toString(16),2,"0")).toUpperCase():`rgba(${e}, ${t}, ${n}, ${s})`}function ge(e,t,n,r,i,o){e.save(),e.lineWidth=4,e.lineJoin="round",i&&(e.strokeStyle=i),o&&(e.fillStyle=o),e.strokeText(t,n,r),e.fillText(t,n,r),e.restore()}function me(e,t,n,r,i){e.save(),e.beginPath(),e.translate(t-r,n-i),e.scale(r,i),e.arc(1,1,1,0,2*Math.PI,!1),e.restore(),e.fill()}function ye(e,t,n){if(t<0||n<0||t>=e.width||n>=e.height)return 0;const r=4*(n*e.width+t);return e.data[r]<<16|e.data[r+1]<<8|e.data[r+2]|e.data[r+3]<<24}function _e(e){let t=se.exec(e);if(t){if(!le){const e=document.createElement("canvas");le=e.getContext("2d")}le.fillStyle=e,e=String(le.fillStyle)}if(e.startsWith("#")){if(4===e.length)return{r:parseInt(e.substr(1,1)+e.substr(1,1),16),g:parseInt(e.substr(2,1)+e.substr(2,1),16),b:parseInt(e.substr(3,1)+e.substr(3,1),16),alpha:1};if(7===e.length)return{r:parseInt(e.substr(1,2),16),g:parseInt(e.substr(3,2),16),b:parseInt(e.substr(5,2),16),alpha:1}}return t=ue.exec(e),t?{r:Number(t[1]),g:Number(t[2]),b:Number(t[3]),alpha:1}:(t=ce.exec(e),t?{r:Number(t[1]),g:Number(t[2]),b:Number(t[3]),alpha:Number(t[4])}:{r:0,g:0,b:0,alpha:0})}function be(e,t){const n=_e(e);return de(n.r,n.g,n.b,t)}function ve(e,t,n,r){if(t<0||n<0||t>=e.width||n>=e.height)return;const i=4*(n*e.width+t);e.data[i]=(16711680&r)>>16,e.data[i+1]=(65280&r)>>8,e.data[i+2]=255&r,e.data[i+3]=(4278190080&r)>>24&255}function we(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI,!1),e.stroke(),e.closePath()}function Ce(e,t,n,r,i){e.save(),e.beginPath(),e.translate(t-r,n-i),e.scale(r,i),e.arc(1,1,1,0,2*Math.PI,!1),e.restore(),e.stroke(),e.closePath()}function Se(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke(),e.closePath()}function xe(){const e=new window.AudioContext,t=e.createOscillator(),n=e.createGain();t.type="square",t.frequency.value=440,t.connect(n),n.gain.value=.025,n.connect(e.destination),t.start(),setTimeout((()=>{t.stop(),t.disconnect(),n.disconnect(),e.close()}),100)}function ke(e){let t=e.key;if(void 0===t){const n=e.charCode;if(0!==n)t=String.fromCodePoint(n);else{const n=e.keyCode||e.which;switch(n){case 3:case 13:t="Enter";break;case 8:t="Backspace";break;case 9:t="Tab";break;case 12:t="Clear";break;case 16:t="Shift";break;case 17:t="Control";break;case 18:t="Alt";break;case 19:t="Pause";break;case 20:t="CapsLock";break;case 27:t="Escape";break;case 33:t="PageUp";break;case 34:t="PageDown";break;case 35:t="End";break;case 36:t="Home";break;case 37:t="ArrowLeft";break;case 38:t="ArrowUp";break;case 39:t="ArrowRight";break;case 40:t="ArrowDown";break;case 43:t="+";break;case 44:t="PrintScreen";break;case 45:t="Insert";break;case 46:t="Delete";break;case 91:t="OS";break;case 93:t="ContextMenu";break;case 107:t="+";break;case 109:t="-";break;case 110:t=".";break;case 111:t="/";break;case 144:t="NumLock";break;case 145:t="ScrollLock";break;case 173:case 181:t="AudioVolumeMute";break;case 174:case 182:t="AudioVolumeDown";break;case 175:case 183:t="AudioVolumeUp";break;case 179:t="MediaPlayPause";break;case 186:t=";";break;case 187:t="=";break;case 188:t=",";break;case 189:t="-";break;case 191:t="/";break;case 192:t="~";break;case 219:t="[";break;case 220:t="\\";break;case 221:t="]";break;case 222:t="'";break;case 224:t="Meta";break;default:112<=n&&n<=135?t="F"+(n-111):48<=n&&n<=90?t=String.fromCharCode(n):96<=n&&n<=105&&(t=String.fromCharCode(n-48))}}}else switch(t){case"Left":case"UIKeyInputLeftArrow":t="ArrowLeft";break;case"Up":case"UIKeyInputUpArrow":t="ArrowUp";break;case"Right":case"UIKeyInputRightArrow":t="ArrowRight";break;case"Down":case"UIKeyInputDownArrow":t="ArrowDown";break;case"Add":t="+";break;case"Subtract":t="-";break;case"Multiply":t="*";break;case"Divide":t="/";break;case"Decimal":t=".";break;case"Apps":t="ContextMenu";break;case"Del ":t="Delete";break;case"Esc":t="Escape";break;case"Scroll":t="ScrollLock";break;case"Spacebar":t=" ";break;case"Win":t="Meta"}return t}function Ae(e,t){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}const Me={"50%":"ultra-condensed","62.5%":"extra-condensed","75%":"condensed","87.5%":"semi-condensed","100%":"normal","112.5%":"semi-expanded","125%":"expanded","150%":"extra-expanded","200%":"ultra-expanded"};function Ee(e){const t=document.defaultView.getComputedStyle(e,null);let n=t.getPropertyValue("font");if(!n){const e=t.getPropertyValue("font-style"),r=t.getPropertyValue("font-variant"),i=t.getPropertyValue("font-weight"),o=Me[t.getPropertyValue("font-stretch")]||"",a=t.getPropertyValue("font-size"),s=t.getPropertyValue("line-height");n=(e+" "+r+" "+i+" "+o+" "+a+(s?" / "+s:"")+" "+t.getPropertyValue("font-family")).replace(/ +/g," ").trim()}return n}const Pe={};function Re(e){let t;t="string"==typeof e?e:Ee(e);let n=Pe[t];if(n)return n;let r=t,i=12,o=12;const a=/(.*?\b)((?:\d|\.)+)(px\b.*)/.exec(t);a&&(i=parseFloat(a[2]),o=2*i,r=a[1]+o+a[3]);let s=1.2*i;const c=document.createElement("div");c.style.position="absolute",c.style.opacity="0",c.style.font=t,c.innerHTML="Eg<br>Eg",document.body.appendChild(c);const u=parseFloat(Ae(c,"height").replace("px",""));u>=2*i&&(s=u/2),document.body.removeChild(c);const l=Re.canvas||(Re.canvas=document.createElement("canvas"));l.width=2*o+50,l.height=3*o,l.style.opacity="1";const h=l.getContext("2d"),f=l.width,p=4*f,d=l.height,g=d/2;h.fillStyle="white",h.fillRect(-1,-1,f+2,d+2),h.fillStyle="black",h.font=r,h.fillText("Eg",25,g);let m=h.getImageData(0,0,f,d).data,y=0;const _=m.length;for(;++y<_&&m[y]>192;);let b=Math.floor(y/p);for(y=_-1;--y>0&&m[y]>192;);let v=Math.floor(y/p);for(h.fillStyle="white",h.fillRect(-1,-1,f+2,d+2),h.fillStyle="black",h.fillText("ÅÊ",25,g),m=h.getImageData(0,0,f,d).data,y=0;++y<_&&m[y]>192;);let w=Math.floor(y/p);return b=g-b,w=g-w,v-=g,o>i&&(b=Math.ceil(b/2),w=Math.ceil(w/2),v=Math.ceil(v/2)),n={font:t,lineHeight:s,ascent:b,fullAscent:w,descent:v,leading:s-w-v},Pe[t]=n,n}function Le(e,t){"number"==typeof t&&(t=String.fromCodePoint(t));const n=Re(e),r=n.lineHeight+8,i=[Le.canvas0||(Le.canvas0=document.createElement("canvas")),Le.canvas1||(Le.canvas1=document.createElement("canvas"))],o=[];for(let e=0;e<2;++e){const s=i[e];s.width=r,s.height=r,s.style.opacity="1";const c=s.getContext("2d");c.fillStyle="white",c.fillRect(-1,-1,r+2,r+2),c.fillStyle="black",c.font=1===e&&$e()?(a=n.font,/\b(italic|oblique)\b/.test(a)?a.replace(/\b(italic|oblique)\b/,""):"italic "+a):n.font,c.fillText(0===e||$e()?t:"￾",0,n.ascent),o[e]=c.getImageData(0,0,r,r).data}var a;for(let e=0;e<o[0].length;++e)if(o[0][e]!==o[1][e])return!0;return!1}function Te(e,t,n){const r=(Te.canvas||(Te.canvas=document.createElement("canvas"))).getContext("2d");let i,o=0;"string"==typeof t?i=t:"object"==typeof t&&(i=Ee(t)),r.font=i||n||"normal 12px sans-serif",Array.isArray(e)||(e=[e]);for(const t of e){const e=r.measureText(t).width;o=Math.max(o,e)}return o}const Ie={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"},De={};function Oe(e,t=!1){return e.replace(t?/[<>&"']/g:/[<>&]/g,(e=>Ie[e[0]]))}function Ne(e){return e.replace(/&(?:#[xX]?)?[a-zA-Z0-9]+(?:;|$|(?=[^a-fA-F0-9]))/g,(e=>{let t=De[e];if(!t){let n,r=10;if(/^&#x/i.test(e)?(r=16,n=/^([a-fA-F0-9]+);?/.exec(e.substr(3))):e.startsWith("&#")&&(n=/^([0-9]+);?/.exec(e.substr(2))),n){const e=f(n[1],-1,r);0<=e&&e<=1114111&&(t=String.fromCodePoint(e))}}return null!=t?t:e}))}function Fe(){return navigator.userAgent.includes("Android")}function je(){return"Google Inc."===navigator.vendor&&(/\bChrome\b/i.test(navigator.userAgent)&&!Ge()&&!Ke()&&!Ve()||/\bCriOS\b/.test(navigator.userAgent))}function Ue(){return!!window.chrome&&!ze()}function Ge(){return/\bedge\b/i.test(navigator.userAgent)&&Ye()}function $e(){return/firefox/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent)}function We(){const e=document;return!!(e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement)}function Be(){var e,t;return We()||window.innerWidth===(null===(e=window.screen)||void 0===e?void 0:e.width)&&window.innerHeight===(null===(t=window.screen)||void 0===t?void 0:t.height)}function ze(){return/(?:\b(MS)?IE\s+|\bTrident\/7\.0;.*\s+rv:)(\d+)/.test(navigator.userAgent)}function qe(){return/i(Pad|Pod|Phone)/i.test(navigator.platform)||He()&&Ze()&&navigator.maxTouchPoints>1}function He(){return navigator.platform.startsWith("Mac")||/\bMac OS X\b/i.test(navigator.userAgent)}function Ve(){return void 0!==window.opr}function Xe(){return navigator.userAgent.includes("Raspbian")||navigator.userAgent.includes("Linux armv7l")}function Ze(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!Ge()}function Ke(){return/\bSamsungBrowser\b/i.test(navigator.userAgent)}function Ye(){return navigator.appVersion.includes("Windows")||navigator.platform.startsWith("Win")}function Je(e,t,n,r="…"){let i=Te(e,t),o=1;for(;i>n;)e=e.substring(0,e.length-o)+r,o=1+r.length,i=Te(e,t);return e}function Qe(e){et(e,!0)}function et(e,t=!1){return e!==We()?nt(t):Promise.resolve()}function tt(){nt()}function nt(e=!1){const t=document;try{if(We()){if(t.exitFullscreen)return t.exitFullscreen();t.msExitFullscreen?t.msExitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen&&t.webkitExitFullscreen()}else{const e=document.documentElement;if(e.requestFullscreen)return e.requestFullscreen();e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}}catch(t){if(e)throw t;return Promise.reject(t)}return Promise.resolve()}function rt(e){const t=[];return g(e,((e,n)=>{null!=n&&t.push(e+"="+encodeURIComponent(n.toString()))})),t.join("&")}Object.keys(Ie).forEach((e=>De[Ie[e]]=e))},892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ligaturesToRegex=t.readConfiguration=t.getLigatureMatcher=t.resetConfiguration=t.DEFAULT_MAX_FILE_SIZE=t.DEFAULT_MAX_LINES=void 0;const r=n(571),i=n(549),o=n(103);t.DEFAULT_MAX_LINES=2e4,t.DEFAULT_MAX_FILE_SIZE=35e6;const a=/[-\[\]/{}()*+?.\\^$|]/g,s={compactScopeDisplay:!1,contexts:new Set,deactivated:!1,debug:!1,ligatures:new Set,ligaturesMatch:/\x00/,ligaturesByContext:{},ligaturesListedAreEnabled:!1,maxFileSize:t.DEFAULT_MAX_FILE_SIZE,maxLines:t.DEFAULT_MAX_LINES,selectionMode:"cursor"},c=String.raw`

  .= ..= .- := =:= == != === !== =/= <-< <<- <-- <- <-> -> --> ->> >-> <=< <<= <== <=> => ==> =!= =:=
  =>> >=> >>= >>- >- <~> -< -<< =<< <~~ <~ ~~ ~> ~~> <<< << <= <> >= >> >>> {. {| [| <: :> |] |} .}
  <||| <|| <| <|> |> ||> |||> <$ <$> $> <+ <+> +> <* <*> *> \\ \\\ \* /* */ /// // </ <!-- </> --> />
  ;; :: ::: .. ... ..< !! ?? %% && <:< || ?. ?: ++ +++ -- --- ** *** ~= ~- www ff fi fl ffi ffl
  -~ ~@ ^= ?= /= /== |= ||= #! ## ### #### #{ #[ ]# #( #? #_ #: #= #_( #{} =~ !~ 9x9 0xF 0o7 0b1
  |- |-- -| --| |== =| ==| /==/ ==/ /=/ <~~> =>= =<= :>: :<: /\ \/ _|_ ||- :< >: ::=
  <==== ==== ====> <====> <--- ---- ---> <---> |--- ---| |=== ===| /=== ===/ <~~~ ~~~> <~~~>

`.trim().split(/\s+/),u={"####":"#{4,}","<====":"<={4,}","====":"={4,}","====>":"={4,}>","<====>":"<={4,}>","<---":"<-{3,}","----":"-{4,}","---\x3e":"-{3,}>","<---\x3e":"<-{3,}>","|---":"\\|-{3,}","---|":"-{3,}\\|","|===":"\\|={3,}","===|":"={3,}\\|","/===":"\\/={3,}","===/":"={3,}\\/","<~~~":"<~{3,}","~~~>":"~{3,}>","<~~~>":"<~{3,}>","0xF":"0x[0-9a-fA-F]","0o7":"0o[0-7]","0b1":"(?<![0-9a-fA-FxX])0b[01]","9x9":"\\dx\\d"};let l=[];const h=["ff","fi","fl","ffi","ffl"],f=new Set(["ff","fi","fl","ffi","ffl","www","0xF","0o7","0b1","9x9"]),p={markdown:!0},d=new Set(["operator","comment_marker","punctuation","number"]),g={number:{debug:!1,ligatures:new Set(f),ligaturesMatch:null,ligaturesListedAreEnabled:!1}};let m;g.number.ligatures.delete("0xF"),g.number.ligatures.delete("0o7"),g.number.ligatures.delete("0b1"),g.number.ligaturesMatch=w(g.number.ligatures);const y=new Map;let _,b;function v(e,n=new Set){var o,a,s,u,C,S,M,E,P,R,L,T,I,D,O,N,F,j,U;if(e&&!m)m=v(null,n);else if(!e&&m)return m;let G,$,W=!1;if(e){if(y.has(e))return y.get(e);if(n.has(e))throw new Error("Unresolved language inheritance for: "+Array.from(n).join(", "));const t=i.workspace.getConfiguration().get("ligaturesLimited.languages"),r=new Map,c=i.workspace.getConfiguration(null,null).get(`[${e}]`);W=!(null!==(o=(null!=c?c:{})["editor.fontLigatures"])&&void 0!==o?o:i.workspace.getConfiguration().get("editor.fontLigatures")),t&&Object.keys(t).forEach((e=>x(e.replace(/[\[\]]/g,""),!0).forEach((t=>r.set(t,e)))));let l=t&&t[null!==(a=r.get(e))&&void 0!==a?a:""],h="";if(null==l&&c&&(l=c,h="ligaturesLimited."),"boolean"==typeof l)G=l;else if(l){const t=null!==(u=null!==(s=l.ligaturesLimited)&&void 0!==s?s:p[e])&&void 0!==u?u:{};"boolean"==typeof t?G=t:(t.compactScopeDisplay=null!==(C=l[`${h}compactScopeDisplay`])&&void 0!==C?C:t.compactScopeDisplay,t.contexts=null!==(S=l[`${h}contexts`])&&void 0!==S?S:t.contexts,t.debug=null!==(M=l[`${h}debug`])&&void 0!==M?M:t.debug,t.inherit=null!==(E=l[`${h}inherit`])&&void 0!==E?E:t.inherit,t.ligatures=null!==(P=l[`${h}ligatures`])&&void 0!==P?P:t.ligatures,t.ligaturesByContext=null!==(R=l[`${h}ligaturesByContext`])&&void 0!==R?R:t.ligaturesByContext,t.selectionMode=null!==(L=l[`${h}selectionMode`])&&void 0!==L?L:t.selectionMode,Object.keys(t).forEach((e=>{const n=t[e];n&&(G||(G={}),G[e]=n)})))}else G=p[e];G&&"boolean"!=typeof G&&($=m,G.inherit&&(n.add(e),$=v(G.inherit,n),"object"==typeof $&&($.ligaturesMatch=null)))}else l=x(i.workspace.getConfiguration().get("ligaturesLimited.disregardedLigatures")),h.filter((e=>!l.includes(e))).forEach((e=>l.push(e))),_=new Set(c),l.forEach((e=>_.delete(e)));if(null==G){if(G=i.workspace.getConfiguration().get("ligaturesLimited"),"boolean"==typeof G)throw new Error("true/false values are not valid for the root ligaturesLimited configuration.");if((null==G?void 0:G.inherit)&&!e)throw new Error('"inherit" is not a valid property for the root ligaturesLimited configuration.')}if("boolean"==typeof G)return G;if("boolean"==typeof $)return $;$||($={compactScopeDisplay:!1,contexts:d,deactivated:W,debug:!1,ligatures:new Set(f),ligaturesMatch:null,ligaturesByContext:g,ligaturesListedAreEnabled:!1,maxFileSize:t.DEFAULT_MAX_FILE_SIZE,maxLines:t.DEFAULT_MAX_LINES,selectionMode:"cursor"});const B={compactScopeDisplay:!!(null!==(T=null==G?void 0:G.compactScopeDisplay)&&void 0!==T?T:$.compactScopeDisplay),contexts:new Set($.contexts),deactivated:W,debug:null!==(I=null==G?void 0:G.debug)&&void 0!==I?I:$.debug,ligatures:new Set($.ligatures),ligaturesMatch:$.ligaturesMatch,ligaturesByContext:A($.ligaturesByContext),ligaturesListedAreEnabled:$.ligaturesListedAreEnabled,maxFileSize:null!==(D=null==G?void 0:G.maxFileSize)&&void 0!==D?D:$.maxFileSize,maxLines:null!==(O=null==G?void 0:G.maxLines)&&void 0!==O?O:$.maxLines,selectionMode:null!==(F=null===(N=null==G?void 0:G.selectionMode)||void 0===N?void 0:N.toLowerCase())&&void 0!==F?F:$.selectionMode};if(!/^(cursor|line|off|selection)$/.test(B.selectionMode))throw new Error("Invalid selectionMode");r.setCompactScope(B.compactScopeDisplay),function(e,t){let n=!0;x(t,!0).forEach((t=>{if(1===t.length)if("+"===t)n=!0;else if("-"===t)n=!1;else{if("0"!==t&&"O"!==t.toUpperCase())throw new Error("Invalid context specification");e.clear(),n=!0}else t.length>1&&(n?e.add(t):e.delete(t))}))}(B.contexts,null==G?void 0:G.contexts),B.ligaturesListedAreEnabled=k(B.ligatures,null==G?void 0:G.ligatures,B.ligaturesListedAreEnabled);const z=Object.keys(null!==(j=null==G?void 0:G.ligaturesByContext)&&void 0!==j?j:{});for(const e of z){let t=G.ligaturesByContext[e];const n=x(e,!0);let r=B.debug;if("object"!=typeof t||Array.isArray(t)||(r=null!==(U=t.debug)&&void 0!==U?U:r,t=t.ligatures),n.length<1)continue;const i={debug:r,ligatures:new Set(B.ligatures),ligaturesMatch:B.ligaturesMatch,ligaturesListedAreEnabled:B.ligaturesListedAreEnabled};i.ligaturesListedAreEnabled=k(i.ligatures,t,i.ligaturesListedAreEnabled),n.forEach((e=>{B.ligaturesByContext[e]=i,B.contexts.add(e)}))}return b=w(_),e?y.set(e,B):m=B,B}function w(e){return Array.isArray(e)||(e=Array.from(e)),e.sort(((e,t)=>t.length-e.length)),new RegExp(e.map((t=>{var n;return null!==(n=u[t])&&void 0!==n?n:function(e,t){const n=new Set,r=new Set,i=e.length;/^[>|]/.test(e)&&n.add("<"),/[|<]$/.test(e)&&r.add(">");for(const o of t){if(o.length<=i)break;let t=0;for(;(t=o.indexOf(e,t))>=0;)t>0&&n.add(o.charAt(t-1)),t+i<o.length&&r.add(o.charAt(t+i)),++t}const o={"-":/^[-<>|]+$/,"=":/^[=<>|]+$/,"~":/^[~<>|]+$/};Object.keys(o).forEach((t=>{e.startsWith(t)&&o[t].test(e)&&n.delete(t),e.endsWith(t)&&o[t].test(e)&&r.delete(t)}));const a=C(n),s=C(r);let c="";return a&&(c+=`(?<!${a})`),c+=S(e),s&&(c+=`(?!${s})`),c}(t,e)})).join("|"),"g")}function C(e){if(0===e.size)return"";if(1===e.size)return S(e.values().next().value);let t="[";return e.has("-")&&(t+="-",e.delete("-")),Array.from(e.values()).forEach((e=>t+=S(e))),t+"]"}function S(e){return e.replace(a,"\\$&")}function x(e,t=!1){return Array.isArray(e)?e:e?e.trim().split(t?/\s*?[,\s]\s*/:/\s+/):[]}function k(e,t,n=!1){let r=!1,i=!1;return x(t).forEach((t=>{if(1===t.length)if("+"===(t=t.toUpperCase()))r=!(i=!n);else if("-"===t)r=!(i=n);else if("0"===t||"O"===t)e.clear(),r=n=!0,i=!1;else{if("X"!==t)throw new Error("Invalid ligature specification");e.clear(),r=!0,i=n=!1}else t.length>1&&(_.add(t),r?e.add(t):i&&e.delete(t))})),n}function A(e){if(!e)return e;const t=Object.assign({},e);return Object.keys(t).forEach((e=>{t[e]instanceof Set?t[e]=new Set(t[e]):"object"==typeof t[e]&&(t[e]=A(t[e]))})),t}t.resetConfiguration=function(){m=void 0,y.clear()},t.getLigatureMatcher=function(){return b.lastIndex=0,b},t.readConfiguration=function(e){try{const t=v(e);return"object"!=typeof t||!t.ligatures||t.ligaturesMatch instanceof RegExp||(t.ligaturesMatch=w(t.ligatures)),t}catch(t){return console.error(t),o.showErrorMessage(`Ligatures Limited configuration error: ${t.message}`),!!e||s}},t.ligaturesToRegex=w},103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showErrorMessage=t.showInfoMessage=t.toast=t.registerCommand=void 0;const r=n(549);t.registerCommand=function(e,t,n){e.subscriptions.push(r.commands.registerCommand(t,n))},t.toast=function(e){r.window.setStatusBarMessage(e,3e3)},t.showInfoMessage=function(e){r.window.showInformationMessage(e)},t.showErrorMessage=function(e){r.window.showErrorMessage(e)}},112:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=t.ligatureDecorations=t.allLigatures=t.highlightLigature=t.breakDebug=t.breakNormal=void 0;const r=n(892),i=n(103),o=n(90),a=n(571),s=n(549);t.breakNormal=s.window.createTextEditorDecorationType({after:{contentText:" ",width:"0"}}),t.breakDebug=s.window.createTextEditorDecorationType({color:"red",backgroundColor:new s.ThemeColor("editor.foreground"),after:{contentText:" ",width:"0"}}),t.highlightLigature=s.window.createTextEditorDecorationType({color:"green",backgroundColor:new s.ThemeColor("editor.foreground")}),t.allLigatures=s.window.createTextEditorDecorationType({backgroundColor:"#0000FF18"}),t.ligatureDecorations=[t.breakNormal,t.breakDebug,t.highlightLigature,t.allLigatures];const c=new Set(["?:","+=","-=","*=","/=","^="]),u=String.raw`\\\ `.trim();let l=null,h=null;const f=[null,"off","cursor","line","selection"];let p,d=!0,g=r.DEFAULT_MAX_LINES,m=r.DEFAULT_MAX_FILE_SIZE;const y=new Set;let _=!0,b=!0;const v=new Map,w=new Map,C=new Map,S=new Map,x=new Map,k=new Map,A=new Map;function M(e,t){var n,r;return(null!==(n=/^.+\.(.+)$/.exec(t))&&void 0!==n?n:[])[1]&&/^(html|markdown|xhtml|xml)$/.test(e)&&null!==(r=a.getLanguageIdFromScope(t))&&void 0!==r?r:e}function E(e,t,n){var i;const o=e.ligaturesByContext;if(!o)return;let a=o[n];for(;!a&&t&&!(a=o[t]);)t=(null!==(i=/^(.+)\../.exec(t))&&void 0!==i?i:[])[1];return!a||!a.ligatures||a.ligaturesMatch instanceof RegExp||(a.ligaturesMatch=r.ligaturesToRegex(a.ligatures)),a}function P(e,t,n){var r;if(!e)return!1;let i=e.has(n);for(;!i&&t&&!(i=e.has(t));)t=(null!==(r=/^(.+)\../.exec(t))&&void 0!==r?r:[])[1];return i}function R(e,t=!1){let n=s.window.visibleTextEditors.filter((t=>t.document===e));if(0===n.length&&t&&e.fileName.endsWith(".git")){const t=e.fileName.substr(0,e.fileName.length-4);n=s.window.visibleTextEditors.filter((e=>e.document.fileName===t))}return n.length>0?n:void 0}function L(e,t,n,r){if(e&&1===e.length){const i=e[0].start,o=e[0].end;return i.isEqual(o)||i.line===t&&o.line===t&&i.character>=n&&o.character<=n+r}return!1}t.activate=async function(e){await a.wasmReady;const n=a.activate(e);function T(e,t=e.textEditor){const n=t.document,r=k.get(t);k.set(t,Array.from(e.selections));let i,o,a=n.lineCount,s=-1;const c=e=>{a=Math.min(e.anchor.line,e.active.line,a),s=Math.max(e.anchor.line,e.active.line,s)};if(e.selections.forEach(c),r){const e=a,t=s;a=n.lineCount,s=-1,r.forEach(c),a>t?(i=t+1,o=a-1,a=e):s<e?(i=s+1,o=e-1,s=t):(a=Math.min(a,e),s=Math.max(s,t))}a=Math.min(a,n.lineCount-1),s>=0&&a<=s&&D(n,1,a,s,i,o)}function I(){if(!s.workspace.getConfiguration().get("editor.fontLigatures")&&_){const e="OK",t="Don't warn again this session.";s.window.showWarningMessage("Ligature fonts are not enabled",e,t).then((e=>{e===t&&(_=!1)}))}s.workspace.textDocuments.forEach((e=>D(e)))}function D(e,t=1,r=0,i=e.lineCount-1,o,a){if(t>5||r<0)return;const c=R(e);(function(e){return void 0!==e&&e.lineCount>0&&"vscode"!==e.uri.scheme&&"output"!==e.uri.scheme})(e)&&c&&(p=e,n.getScopeAt(e,new s.Position(0,0))?c.forEach((n=>{let s=A.get(n);if(1!==t||!s||0!==s.background.length||0===r&&i===e.lineCount-1||x.has(n))r=0,i=e.lineCount-1,o=a=void 0,s=void 0;else{const e=e=>{for(let t=0;t<e.length;++t){const n=e[t].start.line;r<=n&&n<=i&&(void 0===o||n<o||n>a)&&e.splice(t--,1)}};e(s.breaks),e(s.debugBreaks),e(s.highlights)}k.set(n,n.selections),N(e,n,r,i,o,a,null==s?void 0:s.breaks,null==s?void 0:s.debugBreaks,null==s?void 0:s.highlights)})):setTimeout((()=>D(e,++t,r,i)),250))}function O(e,t,n){for(let r=0;r<e.length;++r){const i=e[r].start.line;t<=i&&i<=n&&e.splice(r--,1)}}function N(e,i,a,f,p,_,v=[],w=[],C=[],k=0){var R;if(!s.workspace.textDocuments.includes(e)||!s.window.visibleTextEditors.includes(i))return void x.delete(i);if(0===k&&x.has(i)){const t=x.get(i);if(a>0||f<e.lineCount-1)return a=Math.min(a,t.first),f=Math.max(f,t.last),O(v,a,f),O(w,a,f),O(C,a,f),void x.set(i,{first:a,last:f,timer:t.timer});t.timer&&clearTimeout(t.timer),x.delete(i),p=_=void 0,v.length=0,w.length=0,C.length=0}const T=e.languageId,I=r.readConfiguration(T);if("object"==typeof I&&I.deactivated)return void i.setDecorations(t.allLigatures,[]);p=null!=p?p:e.lineCount,_=null!=_?_:-1;let D=0===k&&(v.length>0||w.length>0||C.length>0);const F=[],j=e.offsetAt(new s.Position(e.lineCount,0));if(g>0&&e.lineCount>g||m>0&&j>m){if(b&&!y.has(e)){const t="Don't warn again for this document.",n="Don't warn again this session.";s.window.showWarningMessage("Because of file size, all ligatures in this document will be displayed.",t,n).then((r=>{r===t?y.add(e):r===n&&(b=!1)}))}}else if(d){f=Math.min(f,e.lineCount-1);const d=o.processMillis(),g=r.getLigatureMatcher();let m=e.lineCount,y=-1;const b=(t,a,b=!0)=>{var S,A,R,D;let O,F;g.lastIndex=0;for(let j=t;j<=a;++j){if(p<=j&&j<=_||m<=j&&j<=y)continue;const t=e.lineAt(j).text;let a,U,G;const $=(r,i)=>{var o;const a=g.lastIndex,c=t.substr(r-2,3);let u=0;return g.lastIndex="==/"===c?0:1,3===c.length&&g.test(c)&&(null===(o=n.getScopeAt(e,new s.Position(j,r+1)))||void 0===o?void 0:o.category)===i&&(u=1),g.lastIndex=a,u};for(;a=g.exec(t);){const f=a.index;let p=a[0],d=!1,m=!1;const y=n.getScopeAt(e,new s.Position(j,f));let _=y.category;const b=o.last(y.scopes),x=M(T,b);let k,N,W,B=I;if(x!==T&&(B=F&&O===x?F:F=r.readConfiguration(O=x)),"boolean"==typeof B)k=!B,N=l,W=null!=h?h:r.readConfiguration().selectionMode;else{W=null!=h?h:B.selectionMode;const r=B.ligaturesMatch,i=B.contexts,o=B.ligaturesListedAreEnabled;p.length>y.text.length&&!c.has(p)&&("string"!==_||p!==u)&&(m=!0,g.lastIndex-=p.length-y.text.length,p=p.substr(0,y.text.length)),/^0(x[0-9a-fA-F]|o[0-7]|b[01])$/.test(p)&&"keyword"===_&&f+p.length<t.length&&"number"===n.getScopeAt(e,new s.Position(j,f+p.length)).category&&(_="number");const a=E(B,b,_),d=null!==(S=null==a?void 0:a.ligaturesMatch)&&void 0!==S?S:r,v=null!==(A=null==a?void 0:a.ligaturesListedAreEnabled)&&void 0!==A?A:o;d.lastIndex=0,N=null!==(R=null!=l?l:null==a?void 0:a.debug)&&void 0!==R?R:B.debug,k=m||d.test(p)!==v||!P(i,b,_)}if("off"!==W&&(null===(D=i.selections)||void 0===D?void 0:D.length)>0&&(L(i.selections,j,f,p.length)||"cursor"!==W)){const e="line"===W?new s.Range(j,0,j,t.length):new s.Range(j,f,j,f+p.length);for(let t=0;t<i.selections.length&&!d;++t){const n=i.selections[t];d="line"===W?n.active.line===j:!!n.intersection(e)}}if(k||d){const e=p.length+$(f+p.length,_),t=N?w:v,n=o.last(t);n&&n.start.line===j&&n.start.character===f&&t.pop();for(let n=0;n<e;++n)t.push(new s.Range(j,f+n,j,f+n+1))}else if(N){const e=p.length+$(f+p.length,_);let t=new s.Range(j,f,j,f+e);if(U&&G===_){const e=U.end.character-t.start.character;0!==e&&1!==e||(C.pop(),t=new s.Range(U.start,t.end))}C.push(t),U=t,G=_}}if(b&&o.processMillis()>d+100)return x.set(i,{first:j+1,last:f,timer:setTimeout((()=>{const t=x.get(i);t&&N(e,i,t.first,t.last,void 0,void 0,v,w,C,k+1)}),50)}),!0}return!1};if(0===k&&1===(null===(R=i.visibleRanges)||void 0===R?void 0:R.length)){let e=i.visibleRanges[0];const n=S.get(i);n&&o.processMillis()<n.time+2e3&&(e=n.range);const r=Math.max(a,Math.min(e.start.line-1,e.end.line-1)),s=Math.min(f,Math.max(e.start.line+1,e.end.line+1));b(r,s,!1),i.setDecorations(t.breakNormal,v),i.setDecorations(t.breakDebug,w),i.setDecorations(t.highlightLigature,C),i.setDecorations(t.allLigatures,F),m=r,y=s,D=!0}if(b(a,f))return}else F.push(new s.Range(0,0,f+1,0));if(D){const e=(e,t)=>e.start.line===t.start.line?e.start.character-t.start.character:e.start.line-t.start.line;v.sort(e),w.sort(e),C.sort(e)}i.setDecorations(t.breakNormal,v),i.setDecorations(t.breakDebug,w),i.setDecorations(t.highlightLigature,C),i.setDecorations(t.allLigatures,F),A.set(i,{breaks:v,debugBreaks:w,highlights:C,background:F}),x.delete(i)}i.registerCommand(e,"ligaturesLimited.cycleLigatureDebug",(function(){l=null==l||!l&&null,i.showInfoMessage("Ligature debug highlighting: "+(null==l?"by settings":l?"all on":"all off")),p&&D(p)})),i.registerCommand(e,"ligaturesLimited.cycleSelectionMode",(function(){h=f[(Math.max(f.indexOf(h),0)+1)%f.length],i.showInfoMessage("Ligature selection disable mode: "+(null!=h?h:"by settings")),p&&D(p)})),i.registerCommand(e,"ligaturesLimited.toggleLigatureSuppression",(function(){d=!d,i.showInfoMessage("Ligature suppression by Ligatures Limited has been "+(d?"activated":"deactivated")),p&&D(p)})),s.workspace.onDidChangeConfiguration((()=>{r.resetConfiguration();const e=r.readConfiguration();m=e.maxFileSize,g=e.maxLines,h=e.selectionMode,a.reloadGrammar(),I()}),null,e.subscriptions),s.window.onDidChangeVisibleTextEditors((()=>{const e=s.window.visibleTextEditors;C.forEach(((t,n)=>{e.includes(n)||(clearTimeout(t),C.delete(n))})),x.forEach(((t,n)=>{e.includes(n)||(t.timer&&clearTimeout(t.timer),x.delete(n))})),Array.from(S.keys()).forEach((t=>{e.includes(t)||S.delete(t)}));for(const t of e)D(t.document)})),s.window.onDidChangeTextEditorSelection((e=>{const t=e.textEditor,n=t.document;if(s.window.visibleTextEditors.includes(t))if(w.has(n)&&R(n))C.has(t)&&clearTimeout(C.get(t)),C.set(t,setTimeout((()=>T(e)),100));else if(R(n))T(e);else{const t=R(n,!0);t&&T(e,t[0])}else k.delete(t)})),s.window.onDidChangeTextEditorVisibleRanges((e=>{var t;const n=(null!==(t=e.visibleRanges)&&void 0!==t?t:[])[0];n&&S.set(e.textEditor,{range:n,time:o.processMillis()})})),s.workspace.onDidChangeTextDocument((e=>{if(e.contentChanges.length>0){a.onChangeDocument(e);const t=e.document;let n=t.lineCount,r=-1,i=0;e.contentChanges.forEach((e=>{n=Math.min(n,e.range.start.line),r=Math.max(r,e.range.end.line),i+=e.range.end.line-e.range.start.line+1})),r=Math.min(r+i,t.lineCount-1),r>=0&&n<=r&&D(t,1,n,r)}})),s.workspace.onDidOpenTextDocument((e=>{w.has(e)&&clearTimeout(w.get(e)),v.set(e,o.processMillis()),w.set(e,setTimeout((()=>D(e)),100))})),s.workspace.onDidCloseTextDocument((e=>{w.has(e)&&clearTimeout(w.get(e)),w.delete(e),v.delete(e),y.delete(e);const t=R(e);t&&t.forEach((e=>{C.has(e)&&clearTimeout(C.get(e)),C.delete(e),S.delete(e),A.delete(e),x.delete(e),k.delete(e)}))})),h=r.readConfiguration().selectionMode,I()},t.deactivate=function(){a.deactivate()}},529:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentController=void 0;const a=n(90),s=o(n(872)),c=n(549);t.DocumentController=class{constructor(e,t){this.document=e,this.grammar=t,this.grammarState=[];const n=new c.Range(0,0,this.document.lineCount,0);this.reparsePretties(n)}hasEditor(){for(const e of c.window.visibleTextEditors)if(e.document===this.document)return!0;return!1}refreshTokensOnLine(e){if(!this.grammar)return{tokens:[],invalidated:!1};const t=this.grammarState[e.lineNumber-1]||null,n=this.grammar.tokenizeLine(e.text,t),r=!this.grammarState[e.lineNumber]||!n.ruleStack.equals(this.grammarState[e.lineNumber]);return this.grammarState[e.lineNumber]=n.ruleStack,{tokens:n.tokens,invalidated:r}}getScopeAt(e){if(!this.grammar)return null;e=this.document.validatePosition(e);const t=this.grammarState[e.line-1]||null,n=this.document.lineAt(e.line),r=this.grammar.tokenizeLine(n.text,t);for(const t of r.tokens)if(t.startIndex<=e.character&&e.character<t.endIndex){const r=n.text.substring(t.startIndex,t.endIndex);return{range:new c.Range(e.line,t.startIndex,e.line,t.endIndex),text:r,scopes:t.scopes,category:this.scopesToCategory(t.scopes,r.trim())}}return null}scopesToCategory(e,t){var n,r;if(e.length>0){let i=a.last(e),o=null!==(n=e[e.length-2])&&void 0!==n?n:"";if(/\b(invalid|illegal|character\.escape)\b/.test(i)&&o&&(i=o,o=null!==(r=e[e.length-3])&&void 0!==r?r:""),/^string\.regexp\b/.test(i)||/^string\.regexp\b/.test(o))return"regexp";if(/\boperator|accessor|arrow|pointer-access|dot-access\b/.test(i))return"operator";if(/^string\b/.test(i))return o&&/\battribute\b/.test(o)?"attribute_value":"string";if(/^punctuation\.definition\.comment\b/.test(i))return"comment_marker";if(/\bcomment\b/.test(i))return"comment";if(/\bproperty-name\b/.test(i))return"property_name";if(/\bproperty-value\b/.test(i))return"property_value";if(/^(support\.type)|(storage\.type\.built-in)\b/.test(i))return"type";if(/^(variable\.language|storage)\b/.test(i))return"keyword";if(/^(support\.)?variable\b/.test(i))return"variable";if(/^constant\.numeric\b/.test(i))return"number";if(/^constant\.language\b/.test(i))return"keyword";if(/^constant\b/.test(i))return"constant";if(/\bseparator\.scope-resolution\b/.test(i))return"operator";if(/\bscope-resolution\b/.test(i))return"scope";if(/\bfunction\b/.test(i))return"function";if(/\bname\.tag\b/.test(i))return"tag";if(/\battribute-name\b/.test(i))return"attribute_name";if(/\btext\b/.test(i))return"text";if(/^(keyword|storage\.type)\b/.test(i))return"keyword";if(/(^punctuation)|(\bbrace)\b/.test(i))return"punctuation";if(/\bmarkdown$/.test(i))return"text";if(/\s/.test(t))return"invalid";if(/^(meta|source(?!\.ignore))\b/.test(i)&&/^[\p{L}$_·][\p{L}\p{M}\p{N}$_·]*$/u.test(t))return"identifier"}return"other"}reparsePretties(e){e=this.document.validateRange(e);let t=!1;const n=this.document.lineCount;for(let r=e.start.line;r<=e.end.line||t&&r<n;++r){const e=this.document.lineAt(r),{invalidated:n}=this.refreshTokensOnLine(e);t=n}}applyChanges(e){const t=e.slice(0).sort(((e,t)=>e.range.start.isAfter(t.range.start)?-1:1));for(const e of t)try{const t=s.toRangeDelta(e.range,e.text),n=s.rangeDeltaNewRange(t);this.reparsePretties(n)}catch(e){}}onChangeDocument(e){this.applyChanges(e.contentChanges)}refresh(){this.grammarState=[];const e=new c.Range(0,0,this.document.lineCount,0);this.reparsePretties(e)}}},571:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.reloadGrammar=t.setCompactScope=t.setHover=t.isHoverEnabled=t.activate=t.getLanguageIdFromScope=t.onChangeDocument=t.textMateRegistry=t.wasmReady=void 0;const s=n(529),c=n(103),u=a(n(747)),l=o(n(330)),h=n(622),f=n(549),p=n(190),d=new Map,g=new Map,m="node_modules/vscode-oniguruma-wasm/release/onig.wasm";let y=h.join(__dirname,"../../..",m);u.default.existsSync(y)||(y=h.join(__dirname,"..",m));const _=u.default.readFileSync(y).buffer;t.wasmReady=l.loadWASM(_);let b=!0;const v=new Map;function w(){try{return f.extensions.all.filter((e=>e.packageJSON&&e.packageJSON.contributes&&e.packageJSON.contributes.grammars)).reduce(((e,t)=>[...e,...t.packageJSON.contributes.grammars]),[])}catch(e){}return[]}function C(e){const t=w().filter((t=>t.language===e));if(t.length>0)return t[0].scopeName}t.onChangeDocument=function(e){d.forEach((t=>{t.document===e.document&&t.onChangeDocument(e)}))},t.getLanguageIdFromScope=function(e){var t,n;const r=(null!==(t=/^.+\.(.+)$/.exec(e))&&void 0!==t?t:[])[1];if(!r)return;if(v.has(r))return v.get(r);const i="."+r,o=w();for(const e of o)if(e.language&&(null===(n=e.scopeName)||void 0===n?void 0:n.endsWith(i)))return v[r]=e.language,e.language};const S={getInjections:null,loadGrammar:e=>async function(e){try{const t=f.extensions.all.filter((e=>e.packageJSON&&e.packageJSON.contributes&&e.packageJSON.contributes.grammars)).reduce(((e,t)=>{return[...e,...(n=t.packageJSON.contributes.grammars,r=t,n?n.map((e=>({grammar:e,path:r.extensionPath}))):[])];var n,r}),[]).filter((t=>t.grammar.scopeName===e));if(t.length>0){const e=h.join(t[0].path,t[0].grammar.path),n=u.default.readFileSync(e).toString();return p.parseRawGrammar(n,e)}}catch(e){}}(e),onigLib:Promise.resolve({createOnigScanner:e=>new l.OnigScanner(e),createOnigString:e=>new l.OnigString(e)})};function x(e,t){var n,r,i;if("plaintext"===e.languageId)return{category:"text",range:new f.Range(0,0,e.lineCount,null!==(i=null===(r=null===(n=e.lineAt(Math.max(e.lineCount-1,0)))||void 0===n?void 0:n.text)||void 0===r?void 0:r.length)&&void 0!==i?i:0),scopes:[],text:e.getText(new f.Range(0,0,Math.min(e.lineCount,10),0))};try{const n=d.get(e.uri);if(null==n?void 0:n.hasEditor())return n.getScopeAt(t)}catch(e){}return null}t.activate=function(e){return c.registerCommand(e,"ligaturesLimited.toggleScopeHover",E),e.subscriptions.push(f.workspace.onDidOpenTextDocument(R)),e.subscriptions.push(f.workspace.onDidCloseTextDocument(L)),async function(e){const t=(await f.languages.getLanguages()).filter((e=>void 0!==C(e)));t.push("plaintext"),e.push(f.languages.registerHoverProvider(t,{provideHover:(e,t)=>{if(!A())return;const n=x(e,t);if(n){const e=n.text.substr(0,64).replace(/\r\n|\r|\n/g,"↵ ")+(n.text.length>64?"...":"");let t=n.scopes;return b&&(t=[t.join(", ")]),{contents:[`Token: \`${e}\``,`Category: \`${n.category}\``,...t],range:n.range}}}}))}(e.subscriptions),M(),{getScopeAt:x,getScopeForLanguage:e=>C(e)||null,async getGrammar(e){try{if(t.textMateRegistry)return await P(e)}catch(e){}return null}}};let k=!1;function A(){return k}function M(){try{t.textMateRegistry=new p.Registry(S),g.clear()}catch(e){t.textMateRegistry=void 0,console.error(e)}T();for(const e of f.workspace.textDocuments)R(e)}function E(){k=!k,c.showInfoMessage("Scope info on hover: "+(k?"on":"off"))}function P(e){if(g.has(e)){const t=g.get(e);return t instanceof Promise?t:Promise.resolve(t)}const n=t.textMateRegistry.loadGrammar(e);return g.set(e,n),n}async function R(e){try{const n=d.get(e.uri);if(null==n?void 0:n.hasEditor())n.refresh();else if(t.textMateRegistry){const t=C(e.languageId);if(t){const n=await P(t);d.set(e.uri,new s.DocumentController(e,n))}}}catch(e){console.error(e)}}function L(e){d.get(e.uri)&&d.delete(e.uri)}function T(){d.clear()}t.isHoverEnabled=A,t.setHover=function(e){k=e},t.setCompactScope=function(e){b=e},t.reloadGrammar=M,t.deactivate=function(){T()}},872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxPosition=t.rangeContains=t.rangeTranslate=t.rangeDeltaNewRange=t.toRangeDelta=void 0;const r=n(549),i=/([^\r\n]*)(\r\n|\r|\n)?/;t.toRangeDelta=function(e,t){const n=function(e,t){t>e.length&&(t=e.length);let n=0,o=0;for(;;){const a=i.exec(e.substring(o));if(o+a[1].length>=t)return new r.Position(n,t-o);o+=a[0].length,++n}}(t,t.length);let o;return o=e.start.line===e.end.line?n.character-(e.end.character-e.start.character):n.character-e.end.character,{start:e.start,end:e.end,linesDelta:n.line-(e.end.line-e.start.line),endCharactersDelta:o}},t.rangeDeltaNewRange=function(e){let t;return t=e.linesDelta>0?e.endCharactersDelta:e.linesDelta<0&&e.start.line===e.end.line+e.linesDelta?e.end.character+e.endCharactersDelta+e.start.character:e.end.character+e.endCharactersDelta,new r.Range(e.start,new r.Position(e.end.line+e.linesDelta,Math.max(t,0)))},t.rangeTranslate=function(e,t){return new r.Range(function(e,t){if(e.isBefore(t.end))return e;if(t.end.line===e.line){let n=e.character+t.endCharactersDelta;return t.linesDelta>0?n-=t.end.character:t.start.line===t.end.line+t.linesDelta&&t.linesDelta<0&&(n+=t.start.character),new r.Position(e.line+t.linesDelta,Math.max(n,0))}return new r.Position(e.line+t.linesDelta,e.character)}(e.start,t),function(e,t){if(e.isBeforeOrEqual(t.end))return e;if(t.end.line===e.line){let n=e.character+t.endCharactersDelta;return t.linesDelta>0?n-=t.end.character:t.start.line===t.end.line+t.linesDelta&&t.linesDelta<0&&(n+=t.start.character),new r.Position(e.line+t.linesDelta,Math.max(n,0))}return new r.Position(e.line+t.linesDelta,e.character)}(e.end,t))},t.rangeContains=function(e,t,n=!1,r=!1){return e.start.isBeforeOrEqual(t)&&(!n||!e.start.isEqual(t))&&(r&&e.end.isEqual(t)||e.end.isAfter(t))},t.maxPosition=function(e,t){return e.line<t.line?e:t.line<e.line?t:e.character<t.character?e:t}},330:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1));let o=null;class a{constructor(e){const t=e.length,n=a._utf8ByteLength(e),r=n!==t,i=r?new Uint32Array(t+1):null;r&&(i[t]=n);const o=r?new Uint32Array(n+1):null;r&&(o[n]=t);const s=new Uint8Array(n);let c=0;for(let n=0;n<t;n++){const a=e.charCodeAt(n);let u=a,l=!1;if(a>=55296&&a<=56319&&n+1<t){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(u=65536+(a-55296<<10)|t-56320,l=!0)}r&&(i[n]=c,l&&(i[n+1]=c),u<=127?o[c+0]=n:u<=2047?(o[c+0]=n,o[c+1]=n):u<=65535?(o[c+0]=n,o[c+1]=n,o[c+2]=n):(o[c+0]=n,o[c+1]=n,o[c+2]=n,o[c+3]=n)),u<=127?s[c++]=u:u<=2047?(s[c++]=192|(1984&u)>>>6,s[c++]=128|(63&u)>>>0):u<=65535?(s[c++]=224|(61440&u)>>>12,s[c++]=128|(4032&u)>>>6,s[c++]=128|(63&u)>>>0):(s[c++]=240|(1835008&u)>>>18,s[c++]=128|(258048&u)>>>12,s[c++]=128|(4032&u)>>>6,s[c++]=128|(63&u)>>>0),l&&n++}this.utf16Length=t,this.utf8Length=n,this.utf16Value=e,this.utf8Value=s,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=o}static _utf8ByteLength(e){let t=0;for(let n=0,r=e.length;n<r;n++){const i=e.charCodeAt(n);let o=i,a=!1;if(i>=55296&&i<=56319&&n+1<r){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(o=65536+(i-55296<<10)|t-56320,a=!0)}t+=o<=127?1:o<=2047?2:o<=65535?3:4,a&&n++}return t}createString(e){const t=e._malloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,t),t}}class s{constructor(e){if(this.id=++s.LAST_ID,!o)throw new Error("Must invoke loadWASM first.");this._onigBinding=o,this.content=e;const t=new a(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!s._sharedPtrInUse?(s._sharedPtr||(s._sharedPtr=o._malloc(1e4)),s._sharedPtrInUse=!0,o.HEAPU8.set(t.utf8Value,s._sharedPtr),this.ptr=s._sharedPtr):this.ptr=t.createString(o)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===s._sharedPtr?s._sharedPtrInUse=!1:this._onigBinding._free(this.ptr)}}t.OnigString=s,s.LAST_ID=0,s._sharedPtr=0,s._sharedPtrInUse=!1;class c{constructor(e){if(!o)throw new Error("Must invoke loadWASM first.");const t=[],n=[];for(let r=0,i=e.length;r<i;r++){const i=new a(e[r]);t[r]=i.createString(o),n[r]=i.utf8Length}const r=o._malloc(4*e.length);o.HEAPU32.set(t,r/4);const i=o._malloc(4*e.length);o.HEAPU32.set(n,i/4);const s=o._createOnigScanner(r,i,e.length);for(let n=0,r=e.length;n<r;n++)o._free(t[n]);o._free(i),o._free(r),0===s&&function(e){throw new Error(e.UTF8ToString(e._getLastOnigError()))}(o),this._onigBinding=o,this._ptr=s}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(e,t){if("string"==typeof e){e=new s(e);const n=this._findNextMatchSync(e,t);return e.dispose(),n}return this._findNextMatchSync(e,t)}_findNextMatchSync(e,t){const n=this._onigBinding,r=n._findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(t));if(0===r)return null;const i=n.HEAPU32;let o=r/4;const a=i[o++],s=i[o++];let c=[];for(let t=0;t<s;t++){const n=e.convertUtf8OffsetToUtf16(i[o++]),r=e.convertUtf8OffsetToUtf16(i[o++]);c[t]={start:n,end:r,length:r-n}}return{index:a,captureIndices:c}}}function u(e,t,n){const{log:r,warn:a,error:s}=console;i.default({instantiateWasm:(t,r)=>(e(t).then((e=>r(e.instance)),n),{})}).then((e=>{o=e,t()})),"undefined"!=typeof print&&(console.log=r,console.error=s,console.warn=a)}t.OnigScanner=c;let l=!1;t.loadWASM=function(e){if(l)throw new Error("Cannot invoke loadWASM more than once.");let t,n;l=!0;const r=new Promise(((e,r)=>{t=e,n=r}));return e instanceof ArrayBuffer?u((t=>WebAssembly.instantiate(e,t)),t,n):e instanceof Response&&"function"==typeof WebAssembly.instantiateStreaming?u((t=>WebAssembly.instantiateStreaming(e,t)),t,n):u((async t=>{const n=await e.arrayBuffer();return WebAssembly.instantiate(n,t)}),t,n),r},t.createOnigString=function(e){return new s(e)},t.createOnigScanner=function(e){return new c(e)}},function(e,t,n){var r=("undefined"!=typeof document&&document.currentScript&&document.currentScript.src,function(e){var t,n=void 0!==(e=e||{})?e:{},r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);var i,o=[],a=!1,s=!1,c="";function u(e){return n.locateFile?n.locateFile(e,c):c+e}i=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(m("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?o=scriptArgs:void 0!==arguments&&(o=arguments),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print);var l,h,f=n.print||console.log.bind(console),p=n.printErr||console.warn.bind(console);for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);r=null,n.arguments&&(o=n.arguments),n.thisProgram&&n.thisProgram,n.quit&&n.quit,n.wasmBinary&&(l=n.wasmBinary),n.noExitRuntime&&n.noExitRuntime,"object"!=typeof WebAssembly&&p("no native wasm support detected");var d=new WebAssembly.Table({initial:48,maximum:48,element:"anyfunc"}),g=!1;function m(e,t){e||q("Assertion failed: "+t)}var y="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function _(e,t,n){for(var r=t+n,i=t;e[i]&&!(i>=r);)++i;if(i-t>16&&e.subarray&&y)return y.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var s=63&e[t++];if(192!=(224&a)){var c=63&e[t++];if((a=224==(240&a)?(15&a)<<12|s<<6|c:(7&a)<<18|s<<12|c<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var u=a-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function b(e,t){return e?_(w,e,t):""}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var v,w,C,S=65536;function x(e,t){return e%t>0&&(e+=t-e%t),e}function k(e){v=e,n.HEAP8=new Int8Array(e),n.HEAP16=new Int16Array(e),n.HEAP32=C=new Int32Array(e),n.HEAPU8=w=new Uint8Array(e),n.HEAPU16=new Uint16Array(e),n.HEAPU32=new Uint32Array(e),n.HEAPF32=new Float32Array(e),n.HEAPF64=new Float64Array(e)}var A=5545808,M=302768,E=n.INITIAL_MEMORY||16777216;function P(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?n.dynCall_v(r):n.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t(n)}}(h=n.wasmMemory?n.wasmMemory:new WebAssembly.Memory({initial:E/S,maximum:2147483648/S}))&&(v=h.buffer),E=v.byteLength,k(v),C[M>>2]=A;var R=[],L=[],T=[],I=[];function D(){if(n.preRun)for("function"==typeof n.preRun&&(n.preRun=[n.preRun]);n.preRun.length;)j(n.preRun.shift());P(R)}function O(){P(L)}function N(){P(T)}function F(){if(n.postRun)for("function"==typeof n.postRun&&(n.postRun=[n.postRun]);n.postRun.length;)U(n.postRun.shift());P(I)}function j(e){R.unshift(e)}function U(e){I.unshift(e)}Math.abs,Math.ceil,Math.floor,Math.min;var G=0,$=null,W=null;function B(e){G++,n.monitorRunDependencies&&n.monitorRunDependencies(G)}function z(e){if(G--,n.monitorRunDependencies&&n.monitorRunDependencies(G),0==G&&(null!==$&&(clearInterval($),$=null),W)){var t=W;W=null,t()}}function q(e){throw n.onAbort&&n.onAbort(e),f(e+=""),p(e),g=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}n.preloadedImages={},n.preloadedAudios={};var H="data:application/octet-stream;base64,";function V(e){return String.prototype.startsWith?e.startsWith(H):0===e.indexOf(H)}var X="onig.wasm";function Z(){try{if(l)return new Uint8Array(l);if(i)return i(X);throw"both async and sync fetching of the wasm failed"}catch(e){q(e)}}function K(){return l||!a&&!s||"function"!=typeof fetch?new Promise((function(e,t){e(Z())})):fetch(X,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+X+"'";return e.arrayBuffer()})).catch((function(){return Z()}))}function Y(){var e={env:re,wasi_snapshot_preview1:re};function t(e,t){var r=e.exports;n.asm=r,z()}function r(e){t(e.instance)}function i(t){return K().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){p("failed to asynchronously prepare wasm: "+e),q(e)}))}if(B(),n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){return p("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(l||"function"!=typeof WebAssembly.instantiateStreaming||V(X)||"function"!=typeof fetch)return i(r);fetch(X,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),i(r)}))}))}(),{}}function J(){return 302768}function Q(e,t,n){w.copyWithin(e,t,t+n)}function ee(){return w.length}function te(e){try{return h.grow(e-v.byteLength+65535>>>16),k(h.buffer),1}catch(e){}}function ne(e){var t=ee();if(e>2147483648)return!1;for(var n=1;n<=4;n*=2){var r=t*(1+.2/n);if(r=Math.min(r,e+100663296),te(Math.min(2147483648,x(Math.max(16777216,e,r),65536))))return!0}return!1}V(X)||(X=u(X)),L.push({func:function(){ae()}});var re={emscripten_get_sbrk_ptr:J,emscripten_memcpy_big:Q,emscripten_resize_heap:ne,memory:h,table:d},ie=Y();n.asm=ie;var oe,ae=n.___wasm_call_ctors=function(){return(ae=n.___wasm_call_ctors=n.asm.__wasm_call_ctors).apply(null,arguments)};function se(e){function t(){oe||(oe=!0,n.calledRun=!0,g||(O(),N(),n.onRuntimeInitialized&&n.onRuntimeInitialized(),F()))}e=e||o,G>0||(D(),G>0||(n.setStatus?(n.setStatus("Running..."),setTimeout((function(){setTimeout((function(){n.setStatus("")}),1),t()}),1)):t()))}if(n._malloc=function(){return(n._malloc=n.asm.malloc).apply(null,arguments)},n._free=function(){return(n._free=n.asm.free).apply(null,arguments)},n._getLastOnigError=function(){return(n._getLastOnigError=n.asm.getLastOnigError).apply(null,arguments)},n._createOnigScanner=function(){return(n._createOnigScanner=n.asm.createOnigScanner).apply(null,arguments)},n._freeOnigScanner=function(){return(n._freeOnigScanner=n.asm.freeOnigScanner).apply(null,arguments)},n._findNextOnigScannerMatch=function(){return(n._findNextOnigScannerMatch=n.asm.findNextOnigScannerMatch).apply(null,arguments)},n.stackSave=function(){return(n.stackSave=n.asm.stackSave).apply(null,arguments)},n.stackAlloc=function(){return(n.stackAlloc=n.asm.stackAlloc).apply(null,arguments)},n.stackRestore=function(){return(n.stackRestore=n.asm.stackRestore).apply(null,arguments)},n.__growWasmMemory=function(){return(n.__growWasmMemory=n.asm.__growWasmMemory).apply(null,arguments)},n.dynCall_vi=function(){return(n.dynCall_vi=n.asm.dynCall_vi).apply(null,arguments)},n.dynCall_iiii=function(){return(n.dynCall_iiii=n.asm.dynCall_iiii).apply(null,arguments)},n.dynCall_iiiii=function(){return(n.dynCall_iiiii=n.asm.dynCall_iiiii).apply(null,arguments)},n.dynCall_iii=function(){return(n.dynCall_iii=n.asm.dynCall_iii).apply(null,arguments)},n.dynCall_iidiiii=function(){return(n.dynCall_iidiiii=n.asm.dynCall_iidiiii).apply(null,arguments)},n.dynCall_vii=function(){return(n.dynCall_vii=n.asm.dynCall_vii).apply(null,arguments)},n.dynCall_ii=function(){return(n.dynCall_ii=n.asm.dynCall_ii).apply(null,arguments)},n.dynCall_i=function(){return(n.dynCall_i=n.asm.dynCall_i).apply(null,arguments)},n.asm=ie,n.UTF8ToString=b,n.then=function(e){if(oe)e(n);else{var t=n.onRuntimeInitialized;n.onRuntimeInitialized=function(){t&&t(),e(n)}}return n},W=function e(){oe||se(),oe||(W=e)},n.run=se,n.preInit)for("function"==typeof n.preInit&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return se(),e});e.exports=r}])},190:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(5),o=n(6),a=n(2),s="undefined"==typeof performance?function(){return Date.now()}:function(){return performance.now()};t.createGrammar=function(e,t,n,r,i,o){return new b(e,t,n,r,i,o)};var c=function(e){this.scopeName=e};t.FullScopeDependency=c;var u=function(){function e(e,t){this.scopeName=e,this.include=t}return e.prototype.toKey=function(){return this.scopeName+"#"+this.include},e}();t.PartialScopeDependency=u;var l=function(){function e(){this.full=[],this.partial=[],this.visitedRule=new Set,this._seenFull=new Set,this._seenPartial=new Set}return e.prototype.add=function(e){e instanceof c?this._seenFull.has(e.scopeName)||(this._seenFull.add(e.scopeName),this.full.push(e)):this._seenPartial.has(e.toKey())||(this._seenPartial.add(e.toKey()),this.partial.push(e))},e}();function h(e,t,n,i,o){for(var a=0,s=i;a<s.length;a++){var l=s[a];if(!e.visitedRule.has(l)){e.visitedRule.add(l);var d=l.repository?r.mergeObjects({},o,l.repository):o;Array.isArray(l.patterns)&&h(e,t,n,l.patterns,d);var g=l.include;if(g)if("$base"===g||g===t.scopeName)p(e,t,t);else if("$self"===g||g===n.scopeName)p(e,t,n);else if("#"===g.charAt(0))f(e,t,n,g.substring(1),d);else{var m=g.indexOf("#");if(m>=0){var y=g.substring(0,m),_=g.substring(m+1);y===t.scopeName?f(e,t,t,_,d):y===n.scopeName?f(e,t,n,_,d):e.add(new u(y,g.substring(m+1)))}else e.add(new c(g))}}}}function f(e,t,n,r,i){void 0===i&&(i=n.repository),i&&i[r]&&h(e,t,n,[i[r]],i)}function p(e,t,n){if(n.patterns&&Array.isArray(n.patterns)&&h(e,t,n,n.patterns,n.repository),n.injections){var r=[];for(var i in n.injections)r.push(n.injections[i]);h(e,t,n,r,n.repository)}}function d(e,t){if(!e)return!1;if(e===t)return!0;var n=t.length;return e.length>n&&e.substr(0,n)===t&&"."===e[n]}function g(e,t){if(t.length<e.length)return!1;var n=0;return e.every((function(e){for(var r=n;r<t.length;r++)if(d(t[r],e))return n=r+1,!0;return!1}))}function m(e,t,n,r,a){for(var s=o.createMatchers(t,g),c=i.RuleFactory.getCompiledRuleId(n,r,a.repository),u=0,l=s;u<l.length;u++){var h=l[u];e.push({matcher:h.matcher,ruleId:c,grammar:a,priority:h.priority})}}t.ScopeDependencyCollector=l,t.collectSpecificDependencies=f,t.collectDependencies=p;var y=function(e,t,n,r){this.scopeName=e,this.languageId=t,this.tokenType=n,this.themeData=r};t.ScopeMetadata=y;var _=function(){function e(t,n,r){if(this._initialLanguage=t,this._themeProvider=n,this._cache=new Map,this._defaultMetaData=new y("",this._initialLanguage,0,[this._themeProvider.getDefaults()]),this._embeddedLanguages=Object.create(null),r)for(var i=Object.keys(r),o=0,a=i.length;o<a;o++){var s=i[o],c=r[s];"number"==typeof c&&0!==c?this._embeddedLanguages[s]=c:console.warn("Invalid embedded language found at scope "+s+": <<"+c+">>")}var u=Object.keys(this._embeddedLanguages).map((function(t){return e._escapeRegExpCharacters(t)}));0===u.length?this._embeddedLanguagesRegex=null:(u.sort(),u.reverse(),this._embeddedLanguagesRegex=new RegExp("^(("+u.join(")|(")+"))($|\\.)",""))}return e.prototype.onDidChangeTheme=function(){this._cache=new Map,this._defaultMetaData=new y("",this._initialLanguage,0,[this._themeProvider.getDefaults()])},e.prototype.getDefaultMetadata=function(){return this._defaultMetaData},e._escapeRegExpCharacters=function(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},e.prototype.getMetadataForScope=function(t){if(null===t)return e._NULL_SCOPE_METADATA;var n=this._cache.get(t);return n||(n=this._doGetMetadataForScope(t),this._cache.set(t,n),n)},e.prototype._doGetMetadataForScope=function(e){var t=this._scopeToLanguage(e),n=this._toStandardTokenType(e),r=this._themeProvider.themeMatch(e);return new y(e,t,n,r)},e.prototype._scopeToLanguage=function(e){if(!e)return 0;if(!this._embeddedLanguagesRegex)return 0;var t=e.match(this._embeddedLanguagesRegex);return t&&(this._embeddedLanguages[t[1]]||0)||0},e.prototype._toStandardTokenType=function(t){var n=t.match(e.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 0;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 4;case"meta.embedded":return 8}throw new Error("Unexpected match for standard token type!")},e._NULL_SCOPE_METADATA=new y("",0,0,null),e.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/,e}(),b=function(){function e(e,t,n,r,i,a){if(this._scopeMetadataProvider=new _(t,i,n),this._onigLib=a,this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=i,this._grammar=w(e,null),this._injections=null,this._tokenTypeMatchers=[],r)for(var s=0,c=Object.keys(r);s<c.length;s++)for(var u=c[s],l=0,h=o.createMatchers(u,g);l<h.length;l++){var f=h[l];this._tokenTypeMatchers.push({matcher:f.matcher,type:r[u]})}}return e.prototype.dispose=function(){for(var e=0,t=this._ruleId2desc;e<t.length;e++){var n=t[e];n&&n.dispose()}},e.prototype.createOnigScanner=function(e){return this._onigLib.createOnigScanner(e)},e.prototype.createOnigString=function(e){return this._onigLib.createOnigString(e)},e.prototype.onDidChangeTheme=function(){this._scopeMetadataProvider.onDidChangeTheme()},e.prototype.getMetadataForScope=function(e){return this._scopeMetadataProvider.getMetadataForScope(e)},e.prototype.getInjections=function(){var e=this;if(null===this._injections){this._injections=[];var t=this._grammar.injections;if(t)for(var n in t)m(this._injections,n,t[n],this,this._grammar);if(this._grammarRepository){var r=this._grammarRepository.injections(this._grammar.scopeName);r&&r.forEach((function(t){var n=e.getExternalGrammar(t);if(n){var r=n.injectionSelector;r&&m(e._injections,r,n,e,n)}}))}this._injections.sort((function(e,t){return e.priority-t.priority}))}return this._injections},e.prototype.registerRule=function(e){var t=++this._lastRuleId,n=e(t);return this._ruleId2desc[t]=n,n},e.prototype.getRule=function(e){return this._ruleId2desc[e]},e.prototype.getExternalGrammar=function(e,t){if(this._includedGrammars[e])return this._includedGrammars[e];if(this._grammarRepository){var n=this._grammarRepository.lookup(e);if(n)return this._includedGrammars[e]=w(n,t&&t.$base),this._includedGrammars[e]}return null},e.prototype.tokenizeLine=function(e,t){var n=this._tokenize(e,t,!1);return{tokens:n.lineTokens.getResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack}},e.prototype.tokenizeLine2=function(e,t){var n=this._tokenize(e,t,!0);return{tokens:n.lineTokens.getBinaryResult(n.ruleStack,n.lineLength),ruleStack:n.ruleStack}},e.prototype._tokenize=function(e,t,n){var r;if(-1===this._rootId&&(this._rootId=i.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),t&&t!==E.NULL)r=!1,t.reset();else{r=!0;var o=this._scopeMetadataProvider.getDefaultMetadata(),a=o.themeData[0],s=A.set(0,o.languageId,o.tokenType,a.fontStyle,a.foreground,a.background),c=this.getRule(this._rootId).getName(null,null),u=this._scopeMetadataProvider.getMetadataForScope(c),l=M.mergeMetadata(s,null,u),h=new M(null,null===c?"unknown":c,l);t=new E(null,this._rootId,-1,-1,!1,null,h,h)}e+="\n";var f=this.createOnigString(e),p=f.content.length,d=new R(n,e,this._tokenTypeMatchers),g=k(this,f,r,0,t,d,!0);return v(f),{lineLength:p,lineTokens:d,ruleStack:g}},e}();function v(e){"function"==typeof e.dispose&&e.dispose()}function w(e,t){return(e=r.clone(e)).repository=e.repository||{},e.repository.$self={$vscodeTextmateLocation:e.$vscodeTextmateLocation,patterns:e.patterns,name:e.scopeName},e.repository.$base=t||e.repository.$self,e}function C(e,t,n,r,i,o,a){if(0!==o.length){for(var s=t.content,c=Math.min(o.length,a.length),u=[],l=a[0].end,h=0;h<c;h++){var f=o[h];if(null!==f){var p=a[h];if(0!==p.length){if(p.start>l)break;for(;u.length>0&&u[u.length-1].endPos<=p.start;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop();if(u.length>0?i.produceFromScopes(u[u.length-1].scopes,p.start):i.produce(r,p.start),f.retokenizeCapturedWithRuleId){var d=f.getName(s,a),g=r.contentNameScopesList.push(e,d),m=f.getContentName(s,a),y=g.push(e,m),_=r.push(f.retokenizeCapturedWithRuleId,p.start,-1,!1,null,g,y),b=e.createOnigString(s.substring(0,p.end));k(e,b,n&&0===p.start,p.start,_,i,!1),v(b)}else{var w=f.getName(s,a);if(null!==w){var C=(u.length>0?u[u.length-1].scopes:r.contentNameScopesList).push(e,w);u.push(new P(C,p.end))}}}}}for(;u.length>0;)i.produceFromScopes(u[u.length-1].scopes,u[u.length-1].endPos),u.pop()}}function S(e){for(var t=[],n=0,r=e.rules.length;n<r;n++)t.push("   - "+e.rules[n]+": "+e.debugRegExps[n]);return t.join("\n")}function x(e,t,n,r,i,o){var c=function(e,t,n,r,i,o){var c=i.getRule(e),u=c.compile(e,i.endRule,n,r===o),l=0;a.DebugFlags.InDebugMode&&(l=s());var h=u.scanner.findNextMatchSync(t,r);if(a.DebugFlags.InDebugMode){var f=s()-l;f>5&&console.warn("Rule "+c.debugName+" ("+c.id+") matching took "+f+" against '"+t+"'"),h&&console.log("matched rule id: "+u.rules[h.index]+" from "+h.captureIndices[0].start+" to "+h.captureIndices[0].end)}return h?{captureIndices:h.captureIndices,matchedRuleId:u.rules[h.index]}:null}(e,t,n,r,i,o),u=e.getInjections();if(0===u.length)return c;var l=function(e,t,n,r,i,o,s){for(var c,u=Number.MAX_VALUE,l=null,h=0,f=o.contentNameScopesList.generateScopes(),p=0,d=e.length;p<d;p++){var g=e[p];if(g.matcher(f)){var m=t.getRule(g.ruleId).compile(t,null,r,i===s),y=m.scanner.findNextMatchSync(n,i);if(a.DebugFlags.InDebugMode&&(console.log("  scanning for injections"),console.log(S(m))),y){var _=y.captureIndices[0].start;if(!(_>=u)&&(u=_,l=y.captureIndices,c=m.rules[y.index],h=g.priority,u===i))break}}}return l?{priorityMatch:-1===h,captureIndices:l,matchedRuleId:c}:null}(u,e,t,n,r,i,o);if(!l)return c;if(!c)return l;var h=c.captureIndices[0].start,f=l.captureIndices[0].start;return f<h||l.priorityMatch&&f===h?l:c}function k(e,t,n,r,o,s,c){var u=t.content.length,l=!1,h=-1;if(c){var f=function(e,t,n,r,o,s){for(var c=o.beginRuleCapturedEOL?0:-1,u=[],l=o;l;l=l.pop()){var h=l.getRule(e);h instanceof i.BeginWhileRule&&u.push({rule:h,stack:l})}for(var f=u.pop();f;f=u.pop()){var p=f.rule.compileWhile(e,f.stack.endRule,n,c===r),d=p.scanner.findNextMatchSync(t,r);if(a.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(S(p))),!d){a.DebugFlags.InDebugMode&&console.log("  popping "+f.rule.debugName+" - "+f.rule.debugWhileRegExp),o=f.stack.pop();break}if(-2!==p.rules[d.index]){o=f.stack.pop();break}d.captureIndices&&d.captureIndices.length&&(s.produce(f.stack,d.captureIndices[0].start),C(e,t,n,f.stack,s,f.rule.whileCaptures,d.captureIndices),s.produce(f.stack,d.captureIndices[0].end),c=d.captureIndices[0].end,d.captureIndices[0].end>r&&(r=d.captureIndices[0].end,n=!1))}return{stack:o,linePos:r,anchorPosition:c,isFirstLine:n}}(e,t,n,r,o,s);o=f.stack,r=f.linePos,n=f.isFirstLine,h=f.anchorPosition}for(;!l;)p();function p(){a.DebugFlags.InDebugMode&&(console.log(""),console.log("@@scanNext "+r+": |"+t.content.substr(r).replace(/\n$/,"\\n")+"|"));var c=x(e,t,n,r,o,h);if(!c)return a.DebugFlags.InDebugMode&&console.log("  no more matches."),s.produce(o,u),void(l=!0);var f=c.captureIndices,p=c.matchedRuleId,d=!!(f&&f.length>0)&&f[0].end>r;if(-1===p){var g=o.getRule(e);a.DebugFlags.InDebugMode&&console.log("  popping "+g.debugName+" - "+g.debugEndRegExp),s.produce(o,f[0].start),o=o.setContentNameScopesList(o.nameScopesList),C(e,t,n,o,s,g.endCaptures,f),s.produce(o,f[0].end);var m=o;if(o=o.pop(),h=m.getAnchorPos(),!d&&m.getEnterPos()===r)return a.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),o=m,s.produce(o,u),void(l=!0)}else{var y=e.getRule(p);s.produce(o,f[0].start);var _=o,b=y.getName(t.content,f),v=o.contentNameScopesList.push(e,b);if(o=o.push(p,r,h,f[0].end===u,null,v,v),y instanceof i.BeginEndRule){var w=y;a.DebugFlags.InDebugMode&&console.log("  pushing "+w.debugName+" - "+w.debugBeginRegExp),C(e,t,n,o,s,w.beginCaptures,f),s.produce(o,f[0].end),h=f[0].end;var S=w.getContentName(t.content,f),k=v.push(e,S);if(o=o.setContentNameScopesList(k),w.endHasBackReferences&&(o=o.setEndRule(w.getEndWithResolvedBackReferences(t.content,f))),!d&&_.hasSameRuleAs(o))return a.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),o=o.pop(),s.produce(o,u),void(l=!0)}else if(y instanceof i.BeginWhileRule){if(w=y,a.DebugFlags.InDebugMode&&console.log("  pushing "+w.debugName),C(e,t,n,o,s,w.beginCaptures,f),s.produce(o,f[0].end),h=f[0].end,S=w.getContentName(t.content,f),k=v.push(e,S),o=o.setContentNameScopesList(k),w.whileHasBackReferences&&(o=o.setEndRule(w.getWhileWithResolvedBackReferences(t.content,f))),!d&&_.hasSameRuleAs(o))return a.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),o=o.pop(),s.produce(o,u),void(l=!0)}else{var A=y;if(a.DebugFlags.InDebugMode&&console.log("  matched "+A.debugName+" - "+A.debugMatchRegExp),C(e,t,n,o,s,A.captures,f),s.produce(o,f[0].end),o=o.pop(),!d)return a.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),o=o.safePop(),s.produce(o,u),void(l=!0)}}f[0].end>r&&(r=f[0].end,n=!1)}return o}t.Grammar=b;var A=function(){function e(){}return e.toBinaryStr=function(e){for(var t=e.toString(2);t.length<32;)t="0"+t;return t},e.printMetadata=function(t){var n=e.getLanguageId(t),r=e.getTokenType(t),i=e.getFontStyle(t),o=e.getForeground(t),a=e.getBackground(t);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:o,background:a})},e.getLanguageId=function(e){return(255&e)>>>0},e.getTokenType=function(e){return(1792&e)>>>8},e.getFontStyle=function(e){return(14336&e)>>>11},e.getForeground=function(e){return(8372224&e)>>>14},e.getBackground=function(e){return(4286578688&e)>>>23},e.set=function(t,n,r,i,o,a){var s=e.getLanguageId(t),c=e.getTokenType(t),u=e.getFontStyle(t),l=e.getForeground(t),h=e.getBackground(t);return 0!==n&&(s=n),0!==r&&(c=8===r?0:r),-1!==i&&(u=i),0!==o&&(l=o),0!==a&&(h=a),(s<<0|c<<8|u<<11|l<<14|h<<23)>>>0},e}();t.StackElementMetadata=A;var M=function(){function e(e,t,n){this.parent=e,this.scope=t,this.metadata=n}return e._equals=function(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.scope!==t.scope||e.metadata!==t.metadata)return!1;e=e.parent,t=t.parent}},e.prototype.equals=function(t){return e._equals(this,t)},e._matchesScope=function(e,t,n){return t===e||e.substring(0,n.length)===n},e._matches=function(e,t){if(null===t)return!0;for(var n=t.length,r=0,i=t[r],o=i+".";e;){if(this._matchesScope(e.scope,i,o)){if(++r===n)return!0;o=(i=t[r])+"."}e=e.parent}return!1},e.mergeMetadata=function(e,t,n){if(null===n)return e;var r=-1,i=0,o=0;if(null!==n.themeData)for(var a=0,s=n.themeData.length;a<s;a++){var c=n.themeData[a];if(this._matches(t,c.parentScopes)){r=c.fontStyle,i=c.foreground,o=c.background;break}}return A.set(e,n.languageId,n.tokenType,r,i,o)},e._push=function(t,n,r){for(var i=0,o=r.length;i<o;i++){var a=r[i],s=n.getMetadataForScope(a),c=e.mergeMetadata(t.metadata,t,s);t=new e(t,a,c)}return t},e.prototype.push=function(t,n){return null===n?this:n.indexOf(" ")>=0?e._push(this,t,n.split(/ /g)):e._push(this,t,[n])},e._generateScopes=function(e){for(var t=[],n=0;e;)t[n++]=e.scope,e=e.parent;return t.reverse(),t},e.prototype.generateScopes=function(){return e._generateScopes(this)},e}();t.ScopeListElement=M;var E=function(){function e(e,t,n,r,i,o,a,s){this.parent=e,this.depth=this.parent?this.parent.depth+1:1,this.ruleId=t,this._enterPos=n,this._anchorPos=r,this.beginRuleCapturedEOL=i,this.endRule=o,this.nameScopesList=a,this.contentNameScopesList=s}return e._structuralEquals=function(e,t){for(;;){if(e===t)return!0;if(!e&&!t)return!0;if(!e||!t)return!1;if(e.depth!==t.depth||e.ruleId!==t.ruleId||e.endRule!==t.endRule)return!1;e=e.parent,t=t.parent}},e._equals=function(e,t){return e===t||!!this._structuralEquals(e,t)&&e.contentNameScopesList.equals(t.contentNameScopesList)},e.prototype.clone=function(){return this},e.prototype.equals=function(t){return null!==t&&e._equals(this,t)},e._reset=function(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent},e.prototype.reset=function(){e._reset(this)},e.prototype.pop=function(){return this.parent},e.prototype.safePop=function(){return this.parent?this.parent:this},e.prototype.push=function(t,n,r,i,o,a,s){return new e(this,t,n,r,i,o,a,s)},e.prototype.getEnterPos=function(){return this._enterPos},e.prototype.getAnchorPos=function(){return this._anchorPos},e.prototype.getRule=function(e){return e.getRule(this.ruleId)},e.prototype._writeString=function(e,t){return this.parent&&(t=this.parent._writeString(e,t)),e[t++]="("+this.ruleId+", TODO-"+this.nameScopesList+", TODO-"+this.contentNameScopesList+")",t},e.prototype.toString=function(){var e=[];return this._writeString(e,0),"["+e.join(",")+"]"},e.prototype.setContentNameScopesList=function(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)},e.prototype.setEndRule=function(t){return this.endRule===t?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,t,this.nameScopesList,this.contentNameScopesList)},e.prototype.hasSameRuleAs=function(e){return this.ruleId===e.ruleId},e.NULL=new e(null,0,0,0,!1,null,null,null),e}();t.StackElement=E;var P=function(e,t){this.scopes=e,this.endPos=t};t.LocalStackElement=P;var R=function(){function e(e,t,n){this._emitBinaryTokens=e,this._tokenTypeOverrides=n,a.DebugFlags.InDebugMode?this._lineText=t:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}return e.prototype.produce=function(e,t){this.produceFromScopes(e.contentNameScopesList,t)},e.prototype.produceFromScopes=function(e,t){if(!(this._lastTokenEndIndex>=t)){if(this._emitBinaryTokens){for(var n=e.metadata,r=0,i=this._tokenTypeOverrides;r<i.length;r++){var o=i[r];o.matcher(e.generateScopes())&&(n=A.set(n,0,L(o.type),-1,0,0))}return this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===n||(this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(n)),void(this._lastTokenEndIndex=t)}var s=e.generateScopes();if(a.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,t).replace(/\n$/,"\\n")+"|");for(var c=0;c<s.length;c++)console.log("      * "+s[c])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:t,scopes:s}),this._lastTokenEndIndex=t}},e.prototype.getResult=function(e,t){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===t-1&&this._tokens.pop(),0===this._tokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._tokens[this._tokens.length-1].startIndex=0),this._tokens},e.prototype.getBinaryResult=function(e,t){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===t-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),0===this._binaryTokens.length&&(this._lastTokenEndIndex=-1,this.produce(e,t),this._binaryTokens[this._binaryTokens.length-2]=0);for(var n=new Uint32Array(this._binaryTokens.length),r=0,i=this._binaryTokens.length;r<i;r++)n[r]=this._binaryTokens[r];return n},e}();function L(e){switch(e){case 4:return 4;case 2:return 2;case 1:return 1;case 0:default:return 8}}},function(e,t,n){"use strict";function r(e){return Array.isArray(e)?function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=r(e[n]);return t}(e):"object"==typeof e?function(e){var t={};for(var n in e)t[n]=r(e[n]);return t}(e):e}Object.defineProperty(t,"__esModule",{value:!0}),t.clone=function(e){return r(e)},t.mergeObjects=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.forEach((function(t){for(var n in t)e[n]=t[n]})),e},t.basename=function e(t){var n=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return 0===n?t:~n==t.length-1?e(t.substring(0,t.length-1)):t.substr(1+~n)};var i=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/,o=function(){function e(){}return e.hasCaptures=function(e){return null!==e&&i.test(e)},e.replaceCaptures=function(e,t,n){return e.replace(i,(function(e,r,i,o){var a=n[parseInt(r||i,10)];if(!a)return e;for(var s=t.substring(a.start,a.end);"."===s[0];)s=s.substring(1);switch(o){case"downcase":return s.toLowerCase();case"upcase":return s.toUpperCase();default:return s}}))},e}();t.RegexSource=o},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.DebugFlags={InDebugMode:void 0!==e&&!!e.env.VSCODE_TEXTMATE_DEBUG}}).call(this,n(7))},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=n(8),s=n(11),c=n(0),u=function(){function e(e){this._options=e,this._syncRegistry=new o.SyncRegistry(s.Theme.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}return e.prototype.dispose=function(){this._syncRegistry.dispose()},e.prototype.setTheme=function(e,t){this._syncRegistry.setTheme(s.Theme.createFromRawTheme(e,t))},e.prototype.getColorMap=function(){return this._syncRegistry.getColorMap()},e.prototype.loadGrammarWithEmbeddedLanguages=function(e,t,n){return this.loadGrammarWithConfiguration(e,t,{embeddedLanguages:n})},e.prototype.loadGrammarWithConfiguration=function(e,t,n){return this._loadGrammar(e,t,n.embeddedLanguages,n.tokenTypes)},e.prototype.loadGrammar=function(e){return this._loadGrammar(e,0,null,null)},e.prototype._doLoadSingleGrammar=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,this._options.loadGrammar(e)];case 1:return(t=r.sent())&&(n="function"==typeof this._options.getInjections?this._options.getInjections(e):void 0,this._syncRegistry.addGrammar(t,n)),[2]}}))}))},e.prototype._loadSingleGrammar=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return this._ensureGrammarCache.has(e)||this._ensureGrammarCache.set(e,this._doLoadSingleGrammar(e)),[2,this._ensureGrammarCache.get(e)]}))}))},e.prototype._collectDependenciesForDep=function(e,t,n){var r=this._syncRegistry.lookup(n.scopeName);if(r){n instanceof c.FullScopeDependency?c.collectDependencies(t,this._syncRegistry.lookup(e),r):c.collectSpecificDependencies(t,this._syncRegistry.lookup(e),r,n.include);var i=this._syncRegistry.injections(n.scopeName);if(i)for(var o=0,a=i;o<a.length;o++){var s=a[o];t.add(new c.FullScopeDependency(s))}}else if(n.scopeName===e)throw new Error("No grammar provided for <"+e+">")},e.prototype._loadGrammar=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,a,s,u,l,h,f,p,d,g,m,y,_=this;return i(this,(function(i){switch(i.label){case 0:r=new Set,a=new Set,r.add(e),s=[new c.FullScopeDependency(e)],i.label=1;case 1:return s.length>0?(u=s,s=[],[4,Promise.all(u.map((function(e){return _._loadSingleGrammar(e.scopeName)})))]):[3,3];case 2:for(i.sent(),l=new c.ScopeDependencyCollector,h=0,f=u;h<f.length;h++)y=f[h],this._collectDependenciesForDep(e,l,y);for(p=0,d=l.full;p<d.length;p++)y=d[p],r.has(y.scopeName)||(r.add(y.scopeName),s.push(y));for(g=0,m=l.partial;g<m.length;g++)y=m[g],r.has(y.scopeName)||a.has(y.toKey())||(a.add(y.toKey()),s.push(y));return[3,1];case 3:return[2,this.grammarForScopeName(e,t,n,o)]}}))}))},e.prototype.addGrammar=function(e,t,n,o){return void 0===t&&(t=[]),void 0===n&&(n=0),void 0===o&&(o=null),r(this,void 0,void 0,(function(){return i(this,(function(r){switch(r.label){case 0:return this._syncRegistry.addGrammar(e,t),[4,this.grammarForScopeName(e.scopeName,n,o)];case 1:return[2,r.sent()]}}))}))},e.prototype.grammarForScopeName=function(e,t,n,r){return void 0===t&&(t=0),void 0===n&&(n=null),void 0===r&&(r=null),this._syncRegistry.grammarForScopeName(e,t,n,r)},e}();t.Registry=u,t.INITIAL=c.StackElement.NULL,t.parseRawGrammar=a.parseRawGrammar},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(){function e(e,t){this._theme=e,this._grammars={},this._rawGrammars={},this._injectionGrammars={},this._onigLibPromise=t}return e.prototype.dispose=function(){for(var e in this._grammars)this._grammars.hasOwnProperty(e)&&this._grammars[e].dispose()},e.prototype.setTheme=function(e){var t=this;this._theme=e,Object.keys(this._grammars).forEach((function(e){t._grammars[e].onDidChangeTheme()}))},e.prototype.getColorMap=function(){return this._theme.getColorMap()},e.prototype.addGrammar=function(e,t){this._rawGrammars[e.scopeName]=e,t&&(this._injectionGrammars[e.scopeName]=t)},e.prototype.lookup=function(e){return this._rawGrammars[e]},e.prototype.injections=function(e){return this._injectionGrammars[e]},e.prototype.getDefaults=function(){return this._theme.getDefaults()},e.prototype.themeMatch=function(e){return this._theme.match(e)},e.prototype.grammarForScopeName=function(e,t,n,a){return r(this,void 0,void 0,(function(){var r,s,c,u,l;return i(this,(function(i){switch(i.label){case 0:return this._grammars[e]?[3,2]:(r=this._rawGrammars[e])?(s=this._grammars,c=e,u=o.createGrammar,l=[r,t,n,a,this],[4,this._onigLibPromise]):[2,null];case 1:s[c]=u.apply(void 0,l.concat([i.sent()])),i.label=2;case 2:return[2,this._grammars[e]]}}))}))},e}();t.SyncRegistry=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=/\\(\d+)/,s=/\\(\d+)/g,c=function(){function e(e,t,n){this.debugRegExps=t,this.rules=n,this.scanner=e.createOnigScanner(t)}return e.prototype.dispose=function(){"function"==typeof this.scanner.dispose&&this.scanner.dispose()},e}();t.CompiledRule=c;var u=function(){function e(e,t,n,r){this.$location=e,this.id=t,this._name=n||null,this._nameIsCapturing=o.RegexSource.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=o.RegexSource.hasCaptures(this._contentName)}return Object.defineProperty(e.prototype,"debugName",{get:function(){var e=this.$location?o.basename(this.$location.filename)+":"+this.$location.line:"unknown";return this.constructor.name+"#"+this.id+" @ "+e},enumerable:!0,configurable:!0}),e.prototype.getName=function(e,t){return this._nameIsCapturing&&null!==this._name&&null!==e&&null!==t?o.RegexSource.replaceCaptures(this._name,e,t):this._name},e.prototype.getContentName=function(e,t){return this._contentNameIsCapturing&&null!==this._contentName?o.RegexSource.replaceCaptures(this._contentName,e,t):this._contentName},e}();t.Rule=u;var l=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.retokenizeCapturedWithRuleId=o,a}return i(t,e),t.prototype.dispose=function(){},t.prototype.collectPatternsRecursive=function(e,t,n){throw new Error("Not supported!")},t.prototype.compile=function(e,t,n,r){throw new Error("Not supported!")},t}(u);t.CaptureRule=l;var h=function(){function e(e,t,n){if(void 0===n&&(n=!0),n)if(e){for(var r=e.length,i=0,o=[],s=!1,c=0;c<r;c++)if("\\"===e.charAt(c)&&c+1<r){var u=e.charAt(c+1);"z"===u?(o.push(e.substring(i,c)),o.push("$(?!\\n)(?<!\\n)"),i=c+2):"A"!==u&&"G"!==u||(s=!0),c++}this.hasAnchor=s,0===i?this.source=e:(o.push(e.substring(i,r)),this.source=o.join(""))}else this.hasAnchor=!1,this.source=e;else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=t,this.hasBackReferences=a.test(this.source)}return e.prototype.clone=function(){return new e(this.source,this.ruleId,!0)},e.prototype.setSource=function(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))},e.prototype.resolveBackReferences=function(e,t){var n=t.map((function(t){return e.substring(t.start,t.end)}));return s.lastIndex=0,this.source.replace(s,(function(e,t){return(n[parseInt(t,10)]||"").replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}))},e.prototype._buildAnchorCache=function(){var e,t,n,r,i=[],o=[],a=[],s=[];for(e=0,t=this.source.length;e<t;e++)n=this.source.charAt(e),i[e]=n,o[e]=n,a[e]=n,s[e]=n,"\\"===n&&e+1<t&&("A"===(r=this.source.charAt(e+1))?(i[e+1]="￿",o[e+1]="￿",a[e+1]="A",s[e+1]="A"):"G"===r?(i[e+1]="￿",o[e+1]="G",a[e+1]="￿",s[e+1]="G"):(i[e+1]=r,o[e+1]=r,a[e+1]=r,s[e+1]=r),e++);return{A0_G0:i.join(""),A0_G1:o.join(""),A1_G0:a.join(""),A1_G1:s.join("")}},e.prototype.resolveAnchors=function(e,t){return this.hasAnchor&&this._anchorCache?e?t?this._anchorCache.A1_G1:this._anchorCache.A1_G0:t?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source},e}();t.RegExpSource=h;var f=function(){function e(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}return e.prototype.dispose=function(){this._disposeCaches()},e.prototype._disposeCaches=function(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)},e.prototype.push=function(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.unshift=function(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor},e.prototype.length=function(){return this._items.length},e.prototype.setSource=function(e,t){this._items[e].source!==t&&(this._disposeCaches(),this._items[e].setSource(t))},e.prototype.compile=function(e,t,n){if(this._hasAnchors)return t?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,t,n)),this._anchorCache.A0_G0);if(!this._cached){var r=this._items.map((function(e){return e.source}));this._cached=new c(e,r,this._items.map((function(e){return e.ruleId})))}return this._cached},e.prototype._resolveAnchors=function(e,t,n){var r=this._items.map((function(e){return e.resolveAnchors(t,n)}));return new c(e,r,this._items.map((function(e){return e.ruleId})))},e}();t.RegExpSourceList=f;var p=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,null)||this;return a._match=new h(i,a.id),a.captures=o,a._cachedCompiledPatterns=null,a}return i(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(t.prototype,"debugMatchRegExp",{get:function(){return""+this._match.source},enumerable:!0,configurable:!0}),t.prototype.collectPatternsRecursive=function(e,t,n){t.push(this._match)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new f,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,n,r)},t}(u);t.MatchRule=p;var d=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.patterns=o.patterns,a.hasMissingPatterns=o.hasMissingPatterns,a._cachedCompiledPatterns=null,a}return i(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},t.prototype.collectPatternsRecursive=function(e,t,n){var r,i;for(r=0,i=this.patterns.length;r<i;r++)e.getRule(this.patterns[r]).collectPatternsRecursive(e,t,!1)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new f,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,n,r)},t}(u);t.IncludeOnlyRule=d;var g=function(e){function t(t,n,r,i,o,a,s,c,u,l){var f=e.call(this,t,n,r,i)||this;return f._begin=new h(o,f.id),f.beginCaptures=a,f._end=new h(s||"￿",-1),f.endHasBackReferences=f._end.hasBackReferences,f.endCaptures=c,f.applyEndPatternLast=u||!1,f.patterns=l.patterns,f.hasMissingPatterns=l.hasMissingPatterns,f._cachedCompiledPatterns=null,f}return i(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)},Object.defineProperty(t.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugEndRegExp",{get:function(){return""+this._end.source},enumerable:!0,configurable:!0}),t.prototype.getEndWithResolvedBackReferences=function(e,t){return this._end.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,n){if(n){var r,i=void 0;for(i=0,r=this.patterns.length;i<r;i++)e.getRule(this.patterns[i]).collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new f,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0),this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)),this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,t):this._cachedCompiledPatterns.setSource(0,t)),this._cachedCompiledPatterns.compile(e,n,r)},t}(u);t.BeginEndRule=g;var m=function(e){function t(t,n,r,i,o,a,s,c,u){var l=e.call(this,t,n,r,i)||this;return l._begin=new h(o,l.id),l.beginCaptures=a,l.whileCaptures=c,l._while=new h(s,-2),l.whileHasBackReferences=l._while.hasBackReferences,l.patterns=u.patterns,l.hasMissingPatterns=u.hasMissingPatterns,l._cachedCompiledPatterns=null,l._cachedCompiledWhilePatterns=null,l}return i(t,e),t.prototype.dispose=function(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)},Object.defineProperty(t.prototype,"debugBeginRegExp",{get:function(){return""+this._begin.source},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debugWhileRegExp",{get:function(){return""+this._while.source},enumerable:!0,configurable:!0}),t.prototype.getWhileWithResolvedBackReferences=function(e,t){return this._while.resolveBackReferences(e,t)},t.prototype.collectPatternsRecursive=function(e,t,n){if(n){var r,i=void 0;for(i=0,r=this.patterns.length;i<r;i++)e.getRule(this.patterns[i]).collectPatternsRecursive(e,t,!1)}else t.push(this._begin)},t.prototype.compile=function(e,t,n,r){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new f,this.collectPatternsRecursive(e,this._cachedCompiledPatterns,!0)),this._cachedCompiledPatterns.compile(e,n,r)},t.prototype.compileWhile=function(e,t,n,r){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new f,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,t||"￿"),this._cachedCompiledWhilePatterns.compile(e,n,r)},t}(u);t.BeginWhileRule=m;var y=function(){function e(){}return e.createCaptureRule=function(e,t,n,r,i){return e.registerRule((function(e){return new l(t,e,n,r,i)}))},e.getCompiledRuleId=function(t,n,r){return t.id||n.registerRule((function(i){if(t.id=i,t.match)return new p(t.$vscodeTextmateLocation,t.id,t.name,t.match,e._compileCaptures(t.captures,n,r));if(void 0===t.begin){t.repository&&(r=o.mergeObjects({},r,t.repository));var a=t.patterns;return void 0===a&&t.include&&(a=[{include:t.include}]),new d(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,e._compilePatterns(a,n,r))}return t.while?new m(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.while,e._compileCaptures(t.whileCaptures||t.captures,n,r),e._compilePatterns(t.patterns,n,r)):new g(t.$vscodeTextmateLocation,t.id,t.name,t.contentName,t.begin,e._compileCaptures(t.beginCaptures||t.captures,n,r),t.end,e._compileCaptures(t.endCaptures||t.captures,n,r),t.applyEndPatternLast,e._compilePatterns(t.patterns,n,r))})),t.id},e._compileCaptures=function(t,n,r){var i=[];if(t){var o=0;for(var a in t)"$vscodeTextmateLocation"!==a&&(c=parseInt(a,10))>o&&(o=c);for(var s=0;s<=o;s++)i[s]=null;for(var a in t)if("$vscodeTextmateLocation"!==a){var c=parseInt(a,10),u=0;t[a].patterns&&(u=e.getCompiledRuleId(t[a],n,r)),i[c]=e.createCaptureRule(n,t[a].$vscodeTextmateLocation,t[a].name,t[a].contentName,u)}}return i},e._compilePatterns=function(t,n,r){var i=[];if(t)for(var o=0,a=t.length;o<a;o++){var s=t[o],c=-1;if(s.include)if("#"===s.include.charAt(0)){var u=r[s.include.substr(1)];u&&(c=e.getCompiledRuleId(u,n,r))}else if("$base"===s.include||"$self"===s.include)c=e.getCompiledRuleId(r[s.include],n,r);else{var l=null,h=null,f=s.include.indexOf("#");f>=0?(l=s.include.substring(0,f),h=s.include.substring(f+1)):l=s.include;var p=n.getExternalGrammar(l,r);if(p)if(h){var y=p.repository[h];y&&(c=e.getCompiledRuleId(y,n,p.repository))}else c=e.getCompiledRuleId(p.repository.$self,n,p.repository)}else c=e.getCompiledRuleId(s,n,r);if(-1!==c){var _=n.getRule(c),b=!1;if((_ instanceof d||_ instanceof g||_ instanceof m)&&_.hasMissingPatterns&&0===_.patterns.length&&(b=!0),b)continue;i.push(c)}}return{patterns:i,hasMissingPatterns:(t?t.length:0)!==i.length}},e}();t.RuleFactory=y},function(e,t,n){"use strict";function r(e){return!!e&&!!e.match(/[\w\.:]+/)}Object.defineProperty(t,"__esModule",{value:!0}),t.createMatchers=function(e,t){for(var n,i,o,a=[],s=(o=(i=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g).exec(n=e),{next:function(){if(!o)return null;var e=o[0];return o=i.exec(n),e}}),c=s.next();null!==c;){var u=0;if(2===c.length&&":"===c.charAt(1)){switch(c.charAt(0)){case"R":u=1;break;case"L":u=-1;break;default:console.log("Unknown priority "+c+" in scope selector")}c=s.next()}var l=f();if(a.push({matcher:l,priority:u}),","!==c)break;c=s.next()}return a;function h(){if("-"===c){c=s.next();var e=h();return function(t){return!!e&&!e(t)}}if("("===c){c=s.next();var n=function(){for(var e=[],t=f();t&&(e.push(t),"|"===c||","===c);){do{c=s.next()}while("|"===c||","===c);t=f()}return function(t){return e.some((function(e){return e(t)}))}}();return")"===c&&(c=s.next()),n}if(r(c)){var i=[];do{i.push(c),c=s.next()}while(r(c));return function(e){return t(i,e)}}return null}function f(){for(var e=[],t=h();t;)e.push(t),t=h();return function(t){return e.every((function(e){return e(t)}))}}}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(2),o=n(10);t.parseRawGrammar=function(e,t){return void 0===t&&(t=null),null!==t&&/\.json$/.test(t)?function(e,t){return i.DebugFlags.InDebugMode?o.parse(e,t,!0):JSON.parse(e)}(e,t):function(e,t){return i.DebugFlags.InDebugMode?r.parseWithLocation(e,t,"$vscodeTextmateLocation"):r.parse(e)}(e,t)}},function(e,t,n){"use strict";function r(e,t,n){var r=e.length,i=0,o=1,a=0;function s(t){if(null===n)i+=t;else for(;t>0;)10===e.charCodeAt(i)?(i++,o++,a=0):(i++,a++),t--}function c(e){null===n?i=e:s(e-i)}function u(){for(;i<r;){var t=e.charCodeAt(i);if(32!==t&&9!==t&&13!==t&&10!==t)break;s(1)}}function l(t){return e.substr(i,t.length)===t&&(s(t.length),!0)}function h(t){var n=e.indexOf(t,i);c(-1!==n?n+t.length:r)}function f(t){var n=e.indexOf(t,i);if(-1!==n){var o=e.substring(i,n);return c(n+t.length),o}return o=e.substr(i),c(r),o}r>0&&65279===e.charCodeAt(0)&&(i=1);var p=0,d=null,g=[],m=[],y=null;function _(e,t){g.push(p),m.push(d),p=e,d=t}function b(){if(0===g.length)return v("illegal state stack");p=g.pop(),d=m.pop()}function v(t){throw new Error("Near offset "+i+": "+t+" ~~~"+e.substr(i,50)+"~~~")}var w,C,S,x=function(){if(null===y)return v("missing <key>");var e={};null!==n&&(e[n]={filename:t,line:o,char:a}),d[y]=e,y=null,_(1,e)},k=function(){if(null===y)return v("missing <key>");var e=[];d[y]=e,y=null,_(2,e)},A=function(){var e={};null!==n&&(e[n]={filename:t,line:o,char:a}),d.push(e),_(1,e)},M=function(){var e=[];d.push(e),_(2,e)};function E(){if(1!==p)return v("unexpected </dict>");b()}function P(){return 1===p||2!==p?v("unexpected </array>"):void b()}function R(e){if(1===p){if(null===y)return v("missing <key>");d[y]=e,y=null}else 2===p?d.push(e):d=e}function L(e){if(isNaN(e))return v("cannot parse float");if(1===p){if(null===y)return v("missing <key>");d[y]=e,y=null}else 2===p?d.push(e):d=e}function T(e){if(isNaN(e))return v("cannot parse integer");if(1===p){if(null===y)return v("missing <key>");d[y]=e,y=null}else 2===p?d.push(e):d=e}function I(e){if(1===p){if(null===y)return v("missing <key>");d[y]=e,y=null}else 2===p?d.push(e):d=e}function D(e){if(1===p){if(null===y)return v("missing <key>");d[y]=e,y=null}else 2===p?d.push(e):d=e}function O(e){if(1===p){if(null===y)return v("missing <key>");d[y]=e,y=null}else 2===p?d.push(e):d=e}function N(e){if(e.isClosed)return"";var t=f("</");return h(">"),t.replace(/&#([0-9]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,10))})).replace(/&#x([0-9a-f]+);/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,(function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e}))}for(;i<r&&(u(),!(i>=r));){var F=e.charCodeAt(i);if(s(1),60!==F)return v("expected <");if(i>=r)return v("unexpected end of input");var j=e.charCodeAt(i);if(63!==j)if(33!==j){if(47===j){if(s(1),u(),l("plist")){h(">");continue}if(l("dict")){h(">"),E();continue}if(l("array")){h(">"),P();continue}return v("unexpected closed tag")}var U=(C=void 0,S=void 0,S=!1,47===(C=f(">")).charCodeAt(C.length-1)&&(S=!0,C=C.substring(0,C.length-1)),{name:C.trim(),isClosed:S});switch(U.name){case"dict":1===p?x():2===p?A():(d={},null!==n&&(d[n]={filename:t,line:o,char:a}),_(1,d)),U.isClosed&&E();continue;case"array":1===p?k():2===p?M():_(2,d=[]),U.isClosed&&P();continue;case"key":w=N(U),1!==p?v("unexpected <key>"):null!==y?v("too many <key>"):y=w;continue;case"string":R(N(U));continue;case"real":L(parseFloat(N(U)));continue;case"integer":T(parseInt(N(U),10));continue;case"date":I(new Date(N(U)));continue;case"data":D(N(U));continue;case"true":N(U),O(!0);continue;case"false":N(U),O(!1);continue}if(!/^plist/.test(U.name))return v("unexpected opened tag "+U.name)}else{if(s(1),l("--")){h("--\x3e");continue}h(">")}else s(1),h("?>")}return d}Object.defineProperty(t,"__esModule",{value:!0}),t.parseWithLocation=function(e,t,n){return r(e,t,n)},t.parse=function(e){return r(e,null,null)}},function(e,t,n){"use strict";function r(e,t){throw new Error("Near offset "+e.pos+": "+t+" ~~~"+e.source.substr(e.pos,50)+"~~~")}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=function(e,t,n){var s=new i(e),c=new o,u=0,l=null,h=[],f=[];function p(){h.push(u),f.push(l)}function d(){u=h.pop(),l=f.pop()}function g(e){r(s,e)}for(;a(s,c);){if(0===u){if(null!==l&&g("too many constructs in root"),3===c.type){l={},n&&(l.$vscodeTextmateLocation=c.toLocation(t)),p(),u=1;continue}if(2===c.type){l=[],p(),u=4;continue}g("unexpected token in root")}if(2===u){if(5===c.type){d();continue}if(7===c.type){u=3;continue}g("expected , or }")}if(1===u||3===u){if(1===u&&5===c.type){d();continue}if(1===c.type){var m=c.value;if(a(s,c)&&6===c.type||g("expected colon"),a(s,c)||g("expected value"),u=2,1===c.type){l[m]=c.value;continue}if(8===c.type){l[m]=null;continue}if(9===c.type){l[m]=!0;continue}if(10===c.type){l[m]=!1;continue}if(11===c.type){l[m]=parseFloat(c.value);continue}if(2===c.type){var y=[];l[m]=y,p(),u=4,l=y;continue}if(3===c.type){var _={};n&&(_.$vscodeTextmateLocation=c.toLocation(t)),l[m]=_,p(),u=1,l=_;continue}}g("unexpected token in dict")}if(5===u){if(4===c.type){d();continue}if(7===c.type){u=6;continue}g("expected , or ]")}if(4===u||6===u){if(4===u&&4===c.type){d();continue}if(u=5,1===c.type){l.push(c.value);continue}if(8===c.type){l.push(null);continue}if(9===c.type){l.push(!0);continue}if(10===c.type){l.push(!1);continue}if(11===c.type){l.push(parseFloat(c.value));continue}if(2===c.type){y=[],l.push(y),p(),u=4,l=y;continue}if(3===c.type){_={},n&&(_.$vscodeTextmateLocation=c.toLocation(t)),l.push(_),p(),u=1,l=_;continue}g("unexpected token in array")}g("unknown state")}return 0!==f.length&&g("unclosed constructs"),l};var i=function(e){this.source=e,this.pos=0,this.len=e.length,this.line=1,this.char=0},o=function(){function e(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}return e.prototype.toLocation=function(e){return{filename:e,line:this.line,char:this.char}},e}();function a(e,t){t.value=null,t.type=0,t.offset=-1,t.len=-1,t.line=-1,t.char=-1;for(var n,i=e.source,o=e.pos,a=e.len,s=e.line,c=e.char;;){if(o>=a)return!1;if(32!==(n=i.charCodeAt(o))&&9!==n&&13!==n){if(10!==n)break;o++,s++,c=0}else o++,c++}if(t.offset=o,t.line=s,t.char=c,34===n){for(t.type=1,o++,c++;;){if(o>=a)return!1;if(n=i.charCodeAt(o),o++,c++,92!==n){if(34===n)break}else o++,c++}t.value=i.substring(t.offset+1,o-1).replace(/\\u([0-9A-Fa-f]{4})/g,(function(e,t){return String.fromCodePoint(parseInt(t,16))})).replace(/\\(.)/g,(function(t,n){switch(n){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";default:r(e,"invalid escape sequence")}throw new Error("unreachable")}))}else if(91===n)t.type=2,o++,c++;else if(123===n)t.type=3,o++,c++;else if(93===n)t.type=4,o++,c++;else if(125===n)t.type=5,o++,c++;else if(58===n)t.type=6,o++,c++;else if(44===n)t.type=7,o++,c++;else if(110===n){if(t.type=8,o++,c++,117!==(n=i.charCodeAt(o)))return!1;if(o++,c++,108!==(n=i.charCodeAt(o)))return!1;if(o++,c++,108!==(n=i.charCodeAt(o)))return!1;o++,c++}else if(116===n){if(t.type=9,o++,c++,114!==(n=i.charCodeAt(o)))return!1;if(o++,c++,117!==(n=i.charCodeAt(o)))return!1;if(o++,c++,101!==(n=i.charCodeAt(o)))return!1;o++,c++}else if(102===n){if(t.type=10,o++,c++,97!==(n=i.charCodeAt(o)))return!1;if(o++,c++,108!==(n=i.charCodeAt(o)))return!1;if(o++,c++,115!==(n=i.charCodeAt(o)))return!1;if(o++,c++,101!==(n=i.charCodeAt(o)))return!1;o++,c++}else for(t.type=11;;){if(o>=a)return!1;if(!(46===(n=i.charCodeAt(o))||n>=48&&n<=57||101===n||69===n||45===n||43===n))break;o++,c++}return t.len=o-t.offset,null===t.value&&(t.value=i.substr(t.offset,t.len)),e.pos=o,e.line=s,e.char=c,!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r,i,o){this.scope=e,this.parentScopes=t,this.index=n,this.fontStyle=r,this.foreground=i,this.background=o};function i(e){return!!(/^#[0-9a-f]{6}$/i.test(e)||/^#[0-9a-f]{8}$/i.test(e)||/^#[0-9a-f]{3}$/i.test(e)||/^#[0-9a-f]{4}$/i.test(e))}function o(e){if(!e)return[];if(!e.settings||!Array.isArray(e.settings))return[];for(var t=e.settings,n=[],o=0,a=0,s=t.length;a<s;a++){var c=t[a];if(c.settings){var u=void 0;u="string"==typeof c.scope?c.scope.replace(/^[,]+/,"").replace(/[,]+$/,"").split(","):Array.isArray(c.scope)?c.scope:[""];var l=-1;if("string"==typeof c.settings.fontStyle){l=0;for(var h=0,f=(g=c.settings.fontStyle.split(" ")).length;h<f;h++)switch(g[h]){case"italic":l|=1;break;case"bold":l|=2;break;case"underline":l|=4}}var p=null;"string"==typeof c.settings.foreground&&i(c.settings.foreground)&&(p=c.settings.foreground);var d=null;for("string"==typeof c.settings.background&&i(c.settings.background)&&(d=c.settings.background),h=0,f=u.length;h<f;h++){var g,m=(g=u[h].trim().split(" "))[g.length-1],y=null;g.length>1&&(y=g.slice(0,g.length-1)).reverse(),n[o++]=new r(m,y,a,l,p,d)}}}return n}t.ParsedThemeRule=r,t.parseTheme=o;var a=function(){function e(e){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(e)){this._isFrozen=!0;for(var t=0,n=e.length;t<n;t++)this._color2id[e[t]]=t,this._id2color[t]=e[t]}else this._isFrozen=!1}return e.prototype.getId=function(e){if(null===e)return 0;e=e.toUpperCase();var t=this._color2id[e];if(t)return t;if(this._isFrozen)throw new Error("Missing color in color map - "+e);return t=++this._lastColorId,this._color2id[e]=t,this._id2color[t]=e,t},e.prototype.getColorMap=function(){return this._id2color.slice(0)},e}();t.ColorMap=a;var s=function(){function e(e,t,n){this._colorMap=e,this._root=n,this._defaults=t,this._cache={}}return e.createFromRawTheme=function(e,t){return this.createFromParsedTheme(o(e),t)},e.createFromParsedTheme=function(e,t){return function(e,t){e.sort((function(e,t){var n=c(e.scope,t.scope);return 0!==n||0!==(n=u(e.parentScopes,t.parentScopes))?n:e.index-t.index}));for(var n=0,r="#000000",i="#ffffff";e.length>=1&&""===e[0].scope;){var o=e.shift();-1!==o.fontStyle&&(n=o.fontStyle),null!==o.foreground&&(r=o.foreground),null!==o.background&&(i=o.background)}for(var f=new a(t),p=new l(0,null,n,f.getId(r),f.getId(i)),d=new h(new l(0,null,-1,0,0),[]),g=0,m=e.length;g<m;g++){var y=e[g];d.insert(0,y.scope,y.parentScopes,y.fontStyle,f.getId(y.foreground),f.getId(y.background))}return new s(f,p,d)}(e,t)},e.prototype.getColorMap=function(){return this._colorMap.getColorMap()},e.prototype.getDefaults=function(){return this._defaults},e.prototype.match=function(e){return this._cache.hasOwnProperty(e)||(this._cache[e]=this._root.match(e)),this._cache[e]},e}();function c(e,t){return e<t?-1:e>t?1:0}function u(e,t){if(null===e&&null===t)return 0;if(!e)return-1;if(!t)return 1;var n=e.length,r=t.length;if(n===r){for(var i=0;i<n;i++){var o=c(e[i],t[i]);if(0!==o)return o}return 0}return n-r}t.Theme=s,t.strcmp=c,t.strArrCmp=u;var l=function(){function e(e,t,n,r,i){this.scopeDepth=e,this.parentScopes=t,this.fontStyle=n,this.foreground=r,this.background=i}return e.prototype.clone=function(){return new e(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)},e.cloneArr=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n].clone();return t},e.prototype.acceptOverwrite=function(e,t,n,r){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,-1!==t&&(this.fontStyle=t),0!==n&&(this.foreground=n),0!==r&&(this.background=r)},e}();t.ThemeTrieElementRule=l;var h=function(){function e(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={}),this._mainRule=e,this._rulesWithParentScopes=t,this._children=n}return e._sortBySpecificity=function(e){return 1===e.length||e.sort(this._cmpBySpecificity),e},e._cmpBySpecificity=function(e,t){if(e.scopeDepth===t.scopeDepth){var n=e.parentScopes,r=t.parentScopes,i=null===n?0:n.length,o=null===r?0:r.length;if(i===o)for(var a=0;a<i;a++){var s=n[a].length,c=r[a].length;if(s!==c)return c-s}return o-i}return t.scopeDepth-e.scopeDepth},e.prototype.match=function(t){if(""===t)return e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));var n,r,i=t.indexOf(".");return-1===i?(n=t,r=""):(n=t.substring(0,i),r=t.substring(i+1)),this._children.hasOwnProperty(n)?this._children[n].match(r):e._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))},e.prototype.insert=function(t,n,r,i,o,a){if(""!==n){var s,c,u,h=n.indexOf(".");-1===h?(s=n,c=""):(s=n.substring(0,h),c=n.substring(h+1)),this._children.hasOwnProperty(s)?u=this._children[s]:(u=new e(this._mainRule.clone(),l.cloneArr(this._rulesWithParentScopes)),this._children[s]=u),u.insert(t+1,c,r,i,o,a)}else this._doInsertHere(t,r,i,o,a)},e.prototype._doInsertHere=function(e,t,n,r,i){if(null!==t){for(var o=0,a=this._rulesWithParentScopes.length;o<a;o++){var s=this._rulesWithParentScopes[o];if(0===u(s.parentScopes,t))return void s.acceptOverwrite(e,n,r,i)}-1===n&&(n=this._mainRule.fontStyle),0===r&&(r=this._mainRule.foreground),0===i&&(i=this._mainRule.background),this._rulesWithParentScopes.push(new l(e,t,n,r,i))}else this._mainRule.acceptOverwrite(e,n,r,i)},e}();t.ThemeTrieElement=h}])},747:e=>{"use strict";e.exports=require("fs")},622:e=>{"use strict";e.exports=require("path")},549:e=>{"use strict";e.exports=require("vscode")}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(112)})();
//# sourceMappingURL=extension.js.map